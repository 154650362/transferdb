[2022/04/24 10:13:05.160 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 10:13:05.161 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin3\",\"marvin4\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 10:13:10.862 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/24 10:13:12.436 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN4]
[2022/04/24 10:13:12.436 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN3]
[2022/04/24 10:13:12.823 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN3] [sql="SELECT * FROM MARVIN.MARVIN3"] ["statistics rows"=0]
[2022/04/24 10:13:12.840 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN4] [sql="SELECT * FROM MARVIN.MARVIN4"] ["statistics rows"=0]
[2022/04/24 10:13:13.358 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN3] [cost=923.072791ms]
[2022/04/24 10:13:13.463 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN4] [cost=1.028596458s]
[2022/04/24 10:13:13.464 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN4]
[2022/04/24 10:13:13.464 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN3]
[2022/04/24 10:13:19.193 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN3] ["rowid sql"="SELECT * FROM MARVIN.MARVIN3"] [cost=5.610035167s]
[2022/04/24 10:13:19.194 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN3] ["rowid sql"="SELECT * FROM MARVIN.MARVIN3"]
[2022/04/24 10:13:19.243 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN4] ["rowid sql"="SELECT * FROM MARVIN.MARVIN4"] [cost=5.61548125s]
[2022/04/24 10:13:19.243 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN4] ["rowid sql"="SELECT * FROM MARVIN.MARVIN4"]
[2022/04/24 10:13:20.822 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: single full table [steven.MARVIN3] data concurrency bulk insert mysql falied: single full table [steven.MARVIN3] sql [REPLACE INTO steven.MARVIN3 (ID,INC_DATETIME,RANDOM_ID,RANDOM_STRING) VALUES ('857','2022-04-23T21:58:07+08:00','47','7GQE2JP24Z3P8UL1WRVS'),('858','2022-04-23T21:58:08+08:00','6','KM4XHZABYQHF98Q79QFW'),('859','2022-04-23T21:58:09+08:00','70','2TRMARANI1RPM4XQOEIG'),('860','2022-04-23T21:58:10+08:00','56','K9BFG4CGSGXMT6WW84IC'),('861','2022-04-23T21:58:11+08:00','9','NCMD0W5QQBZ50IAWYQJR'),('862','2022-04-23T21:58:12+08:00','57','4VYMID280I6S6X97L6UN'),('863','2022-04-23T21:58:13+08:00','43','XHFWQ5NF0PM72AUZF8XN'),('864','2022-04-23T21:58:14+08:00','91','IHWE83HRL6G900M3AXDS'),('865','2022-04-23T21:58:15+08:00','84','8KGN6DH493D5BBPJDHRU'),('866','2022-04-23T21:58:16+08:00','88','9QMT5KSD8258D6O9VDCK'),('867','2022-04-23T21:58:17+08:00','13','RISZJD3V4TNIH2Q1GJLK'),('868','2022-04-23T21:58:18+08:00','29','HHJTL73VYMICO890X0PM'),('869','2022-04-23T21:58:19+08:00','2','RK7YFM8UGNU2OK3Z2FBQ'),('870','2022-04-23T21:58:20+08:00','37','HHWSH0RQ2KC4IFW61GOR'),('871','2022-04-23T21:58:21+08:00','72','0B3GNBPBOE64WJ18P6OS'),('872','2022-04-23T21:58:22+08:00','19','L69ZVMJNT5C2GY57HTO5'),('873','2022-04-23T21:58:23+08:00','94','6HV5Q53VUN9XZZ6P0B4U'),('874','2022-04-23T21:58:24+08:00','66','QU5A40UWV4V92RXF2QG7'),('875','2022-04-23T21:58:25+08:00','92','R5C86YHCBHE03GLW0N07'),('876','2022-04-23T21:58:26+08:00','75','3Q0VE2X678WZ0Z03RGCB'),('877','2022-04-23T21:58:27+08:00','30','V7CVZRKFAHKXYMJE6C6P'),('878','2022-04-23T21:58:28+08:00','23','BHE16829BYWF3ZPSFUCF'),('879','2022-04-23T21:58:29+08:00','74','46IJE5D9HOOSPWEKX83I'),('880','2022-04-23T21:58:30+08:00','32','PLJMQ1DQL2AWQUVJEGPR'),('881','2022-04-23T21:58:31+08:00','92','4NTTOXYVY510ARXKX5RF'),('882','2022-04-23T21:58:32+08:00','57','DFIO8BVAP6754IAHLM0J'),('883','2022-04-23T21:58:33+08:00','80','MD2TBR1AU127GSW4OZM5'),('884','2022-04-23T21:58:34+08:00','10','3AKBRDJKGYDTN7RAPJ5X'),('885','2022-04-23T21:58:35+08:00','35','WM018793QP3TDX5FDW8Z'),('886','2022-04-23T21:58:36+08:00','66','NOAYQIFAMBIR45JSLV39'),('887','2022-04-23T21:58:37+08:00','67','ABAZ2KNIP7TLMUCJHJTL'),('1','2022-04-23T21:43:51+08:00','76','9HDH1DGRKTENE4RC0VQD'),('2','2022-04-23T21:43:52+08:00','1','DFP0U8WOUA3RJ0H56FDS'),('3','2022-04-23T21:43:53+08:00','89','DCM7QYTPNQXRHACLEP7Q'),('4','2022-04-23T21:43:54+08:00','85','CCF5JB7PSR4PNK5OUKVM'),('5','2022-04-23T21:43:55+08:00','60','LRD44E7CWAQ5BJVXEGRL'),('6','2022-04-23T21:43:56+08:00','83','DDIX54XG1BTH8GHUDW7I'),('7','2022-04-23T21:43:57+08:00','44','Y3NLKZLFFE803IXI1LGJ'),('8','2022-04-23T21:43:58+08:00','18','EJ6N5WR5XWPOHYYIILKC'),('9','2022-04-23T21:43:59+08:00','70','2FCFRI2AW3M2NL8KDQXH'),('10','2022-04-23T21:44:00+08:00','13','3W7YL1I2EAIYJTBPPGTV'),('11','2022-04-23T21:44:01+08:00','78','0JAW2COF0PN9W01EXUWD'),('12','2022-04-23T21:44:02+08:00','81','VMGDCBOD8IX1F0YKM127'),('13','2022-04-23T21:44:03+08:00','73','N7JZXR5M39OH8DVLLGL7'),('14','2022-04-23T21:44:04+08:00','37','14O8HN3G5KKLCUK7IYEY'),('15','2022-04-23T21:44:05+08:00','7','QRBW0MF5TF3CFVO62EWP'),('16','2022-04-23T21:44:06+08:00','17','OLJ1GVU0KIBYOY5BNMHI'),('17','2022-04-23T21:44:07+08:00','57','I0F9IXY3843KMR76R16X'),('18','2022-04-23T21:44:08+08:00','45','S32IQIBNKYEPLY4H0K4Z'),('19','2022-04-23T21:44:09+08:00','10','4536VQ7IL29LN0QXK6IX'),('20','2022-04-23T21:44:10+08:00','50','YQ2O3SSBQ5B2JZYSP83D'),('21','2022-04-23T21:44:11+08:00','92','6MFGJJA0X22Q5T8VY6GC'),('22','2022-04-23T21:44:12+08:00','81','NM9KFQZ1Y3PJXEALZ3PU'),('23','2022-04-23T21:44:13+08:00','37','GB4BEX5922R06Q16GLID'),('24','2022-04-23T21:44:14+08:00','70','H0G0RSCKTJXNYZ06PPT1'),('25','2022-04-23T21:44:15+08:00','80','Y9GL3UV4DT6UUH2XNZQO'),('26','2022-04-23T21:44:16+08:00','21','P0R0DGRZIEHN523BVV55'),('27','2022-04-23T21:44:17+08:00','77','NEFQVN0XEXI2KZNWD3D9'),('28','2022-04-23T21:44:18+08:00','59','1Y9Y6DY3TRE3MFVE1BUO'),('29','2022-04-23T21:44:19+08:00','51','KYGA1F7O5H731MKSOYGR'),('30','2022-04-23T21:44:20+08:00','34','HKYXY0YR2LX82BZP5VJG'),('31','2022-04-23T21:44:21+08:00','27','WT0NF4TUTNC9HIWH8SHT'),('32','2022-04-23T21:44:22+08:00','62','EJI3QRFB58DKC4Z3RTUL'),('33','2022-04-23T21:44:23+08:00','8','B2G5JKS7YHXZS0JS2Q91'),('34','2022-04-23T21:44:24+08:00','21','E0G8K9QBUVSV2J33WXQX'),('35','2022-04-23T21:44:25+08:00','24','41D457QDT18LKJNPVVFO'),('36','2022-04-23T21:44:26+08:00','99','UKG2WWHJ0ZE3LI5OYY3R'),('37','2022-04-23T21:44:27+08:00','54','GFCJSEYIKXLHP7X9MO7Q'),('38','2022-04-23T21:44:28+08:00','77','WMRR8ILTMFV4CECV1FHF'),('39','2022-04-23T21:44:29+08:00','12','HPL1V5UWOQZDA7OU5L1D'),('40','2022-04-23T21:44:30+08:00','38','PAZUL8DR1SPFDXHWL57C'),('41','2022-04-23T21:44:31+08:00','80','ZQ2T7JYWET6P4CAUEM7N'),('42','2022-04-23T21:44:32+08:00','62','43XU7TT1HE13GIHJTHN6'),('43','2022-04-23T21:44:33+08:00','93','RW2P7B349RBFQUXWM81D'),('44','2022-04-23T21:44:34+08:00','94','IAO6N5SHLKYKOUB9YB2L'),('45','2022-04-23T21:44:35+08:00','36','X4W1D5PK6G6HMYK7IPXO'),('46','2022-04-23T21:44:36+08:00','7','TG5RZT9Z8LYHUKNTW7B8'),('47','2022-04-23T21:44:37+08:00','65','26W4WC06MEV1IO3PACDB'),('48','2022-04-23T21:44:38+08:00','52','NAQ4GUSJQCZVZXDIS5GN'),('49','2022-04-23T21:44:39+08:00','85','A4NLJV078QZIE7NRWG3D'),('50','2022-04-23T21:44:40+08:00','16','HETE0H95Y7NG59UL4N2I'),('51','2022-04-23T21:44:41+08:00','52','9R6IRTTL6BY1NO44UPT7'),('52','2022-04-23T21:44:42+08:00','86','OW8DZCBUFZC4C05N8LNK'),('53','2022-04-23T21:44:43+08:00','11','0VCLA3JFCJRFRMQJTL9S'),('54','2022-04-23T21:44:44+08:00','94','BNY6AWQSETU2797BWFOU'),('55','2022-04-23T21:44:45+08:00','59','UQZVVTQW0JY82769B2ID'),('56','2022-04-23T21:44:46+08:00','27','EQ0M3J67N73IX6JSX7XA'),('57','2022-04-23T21:44:47+08:00','75','MW18HLAUAP2KMGTI22HX'),('58','2022-04-23T21:44:48+08:00','98','JG5RU4D7MU59BM8LWXTW'),('59','2022-04-23T21:44:49+08:00','28','8TJCF9M9V6GRWEQ6LO74'),('60','2022-04-23T21:44:50+08:00','98','K1PT8CQCYDQQJVWED40J'),('61','2022-04-23T21:44:51+08:00','65','DQJ0I8WT0WEXZ11W2S7Z'),('62','2022-04-23T21:44:52+08:00','0','MQCNBRV65CKVIKJXP1DN'),('63','2022-04-23T21:44:53+08:00','74','VDSSFYPMD4M9Z12AWOD8'),('64','2022-04-23T21:44:54+08:00','39','VFZGXR29PJ3CSE5ACY40'),('65','2022-04-23T21:44:55+08:00','80','FBMXTH8BYF82PCBJVPO8'),('66','2022-04-23T21:44:56+08:00','72','PX0F9D0FWHTK0T8GP9QI'),('67','2022-04-23T21:44:57+08:00','51','S9FNC9VYLOUXUVL0Y9DQ'),('68','2022-04-23T21:44:58+08:00','13','JG1B61KAD7GH5D9AB8ZP'),('69','2022-04-23T21:44:59+08:00','28','UBO60RHTFE9YK3FH8MN3'),('70','2022-04-23T21:45:00+08:00','41','3U8746TZOJ72SPGTS0GZ'),('71','2022-04-23T21:45:01+08:00','53','CSJXNMVXEM2JI1GU0ZF1'),('72','2022-04-23T21:45:02+08:00','4','H7ZFEWFY85ZVY0HV22KG'),('73','2022-04-23T21:45:03+08:00','4','729INQG9U1Y6IR6GDMU1'),('74','2022-04-23T21:45:04+08:00','91','AL21D4IFH1N3A0UPVNQH'),('75','2022-04-23T21:45:05+08:00','91','EOQ2ED3P4ZU249GD127H'),('76','2022-04-23T21:45:06+08:00','92','XCY07MU6UI8PNC0G538I'),('77','2022-04-23T21:45:07+08:00','27','J5WJO1WWDKOUVEVDWL8M'),('78','2022-04-23T21:45:08+08:00','96','UM72LEJMJCRNTH10W40E'),('79','2022-04-23T21:45:09+08:00','86','PENL08LPS234HMRB3AL8'),('80','2022-04-23T21:45:10+08:00','66','1E6VVBZDBGY0MFNFNB6M'),('81','2022-04-23T21:45:11+08:00','70','OTDF5LBL5R1T1L9ZLEJ1'),('82','2022-04-23T21:45:12+08:00','65','SOIRX92HPZ921GJR7GHR'),('83','2022-04-23T21:45:13+08:00','43','4HJAL01ZOYZA8FQNHMBB'),('84','2022-04-23T21:45:14+08:00','83','7TIDSSPGCUOI73AJTWY1'),('85','2022-04-23T21:45:15+08:00','47','08OTPY62JAOLXI9C01DV'),('86','2022-04-23T21:45:16+08:00','66','752LR9NMI3BKI0IGKVC0'),('87','2022-04-23T21:45:17+08:00','13','XR6SJ3CXPK67JLZYGBHA'),('88','2022-04-23T21:45:18+08:00','39','3TP3E25O06BNUZP6XOY8'),('89','2022-04-23T21:45:19+08:00','78','PNXJHHTXU9GTU159X84I'),('90','2022-04-23T21:45:20+08:00','24','CF5WQJOXO36XBNA6XBWE'),('91','2022-04-23T21:45:21+08:00','14','U1DT4XXBGXBNYMDG8E6X'),('92','2022-04-23T21:45:22+08:00','11','SL341ZH6CDZKL5K3U1ZM'),('93','2022-04-23T21:45:23+08:00','23','C1TBSVPCVFPZ8Z2CAA9B'),('94','2022-04-23T21:45:24+08:00','29','0JH71GFGUMIZX3DZTEUW'),('95','2022-04-23T21:45:25+08:00','87','BMYMYGVC5CZ5QK39R8QC'),('96','2022-04-23T21:45:26+08:00','87','UDSD8TG666LX9MHX2ELR'),('97','2022-04-23T21:45:27+08:00','45','0D227UMP59O9OPUS35M1'),('98','2022-04-23T21:45:28+08:00','95','2LMNNNHVIPQPYXKNZXZQ'),('99','2022-04-23T21:45:29+08:00','87','GUAS1PMK4COD3N1PJ2DB'),('100','2022-04-23T21:45:30+08:00','44','V7LUCOSRT03W9VNCA8RT'),('101','2022-04-23T21:45:31+08:00','54','VSEQOGM1BDUXHA7ZKSJN'),('102','2022-04-23T21:45:32+08:00','67','1MJ0FY9HDL93ULV2GD06'),('103','2022-04-23T21:45:33+08:00','59','QHE39FFVYXSG3W8C05U8'),('104','2022-04-23T21:45:34+08:00','30','F7FTJRK0QD9534VZFBW6'),('105','2022-04-23T21:45:35+08:00','28','TO5C6L1XPOFD0K16O96T'),('106','2022-04-23T21:45:36+08:00','16','30XB2CJ96FOXGRE0UHH8'),('107','2022-04-23T21:45:37+08:00','43','4EU69S459HZ775QHVGSH'),('108','2022-04-23T21:45:38+08:00','60','M47S1EJNWPA8Z99PG7L1'),('109','2022-04-23T21:45:39+08:00','25','DNTOYNUTB34DMWG8PXPU'),('110','2022-04-23T21:45:40+08:00','44','HH9GXLY3XP64FB3UNVQM'),('111','2022-04-23T21:45:41+08:00','78','AB7O8Z7FAN3IIUKFM1KK'),('112','2022-04-23T21:45:42+08:00','98','FJFGHJBZCP06N6Q9ODWL'),('113','2022-04-23T21:45:43+08:00','19','F81PVY4F7U657RTQ07BX'),('114','2022-04-23T21:45:44+08:00','44','GAA8SJXC880S05EELWQ6'),('115','2022-04-23T21:45:45+08:00','14','HXRZE7XLLTDWHO0KN76D'),('116','2022-04-23T21:45:46+08:00','43','ZVBJLDPH7DTU7FOI6D4R'),('117','2022-04-23T21:45:47+08:00','70','5QPSLSMLZCQ1G1J5OWEB'),('118','2022-04-23T21:45:48+08:00','40','G1TLZVDOEWC35SG356C1'),('119','2022-04-23T21:45:49+08:00','22','8TUED4KWHRKSIQQK6A6J'),('120','2022-04-23T21:45:50+08:00','92','3HIIK7QIQ4N49UEX6WD5'),('121','2022-04-23T21:45:51+08:00','26','6F2TPYQAO4FIQRD14VUP'),('122','2022-04-23T21:45:52+08:00','57','M0F6GWMXCJDYZW7G9UWU'),('123','2022-04-23T21:45:53+08:00','95','9UFIAZASVHZ6ODVZGNAA'),('124','2022-04-23T21:45:54+08:00','65','N4CP618XZT3JZ4BEG8S4'),('125','2022-04-23T21:45:55+08:00','92','I8QTZDURJIJYBY1GQ8Y4'),('126','2022-04-23T21:45:56+08:00','90','EH4I2T3RLLSIDG3QKYKQ'),('127','2022-04-23T21:45:57+08:00','48','X52KGVKCK56L10BKXRYG'),('128','2022-04-23T21:45:58+08:00','55','2W021JZ1HQW9ZZX02FE8'),('129','2022-04-23T21:45:59+08:00','96','6NTUYEUP0INMH06MJHDA'),('130','2022-04-23T21:46:00+08:00','24','U46J23QY6P53DXUEXRKH'),('131','2022-04-23T21:46:01+08:00','69','48WFLJEDDO8D4PPXLWKK'),('132','2022-04-23T21:46:02+08:00','85','3WLGWXX616HJ59PPXFHF'),('133','2022-04-23T21:46:03+08:00','21','JUUSBIRZILODAL4TDSKL'),('134','2022-04-23T21:46:04+08:00','87','WTI3UN4F044FPW737WFJ'),('135','2022-04-23T21:46:05+08:00','85','EG2NZNHAJBE8QMOIXQIV'),('136','2022-04-23T21:46:06+08:00','12','XBKKDS19XMZ2YKS6K46F'),('137','2022-04-23T21:46:07+08:00','82','9VR47TYM30DUEZUVP8K4'),('138','2022-04-23T21:46:08+08:00','27','L9Z1X7TPCKRRV2JDJ0W1'),('139','2022-04-23T21:46:09+08:00','64','R1ZXU91RPESPSASZXW5I'),('140','2022-04-23T21:46:10+08:00','38','UWGDSIUSQVC69I393OX7'),('141','2022-04-23T21:46:11+08:00','48','1D2JU0GJ1DRY35TIRM0X'),('142','2022-04-23T21:46:12+08:00','11','VNBS2EGW4E7VGERGTBK8'),('143','2022-04-23T21:46:13+08:00','54','PZI0RAQ91SSUSUFG0Q5U'),('144','2022-04-23T21:46:14+08:00','75','XU5PJZ5206PWMVELIBF9'),('145','2022-04-23T21:46:15+08:00','68','Z62BXEHLO2H2OEIH5UBW'),('146','2022-04-23T21:46:16+08:00','98','YEO9EDRW9F41T8RK74N8'),('147','2022-04-23T21:46:17+08:00','57','3U4F319XEBDND8LF2UOX'),('148','2022-04-23T21:46:18+08:00','72','PWQU8LN4EFEQ3DHPIBR2'),('149','2022-04-23T21:46:19+08:00','29','XSDM8AL84UC4BY3Q27FO'),('150','2022-04-23T21:46:20+08:00','34','5FR52RX744LQ3C50GHQH'),('151','2022-04-23T21:46:21+08:00','47','JQCUUGP57OXH23V5JFEQ'),('152','2022-04-23T21:46:22+08:00','84','VYOABELHKPYFP097V7ZL'),('153','2022-04-23T21:46:23+08:00','12','L6PL8VKF6BMF5T2RFB0E'),('154','2022-04-23T21:46:24+08:00','10','MDXQAY245K0XJG6KVRKW'),('155','2022-04-23T21:46:25+08:00','9','0USHGGK8ABLY2CHOOC15'),('156','2022-04-23T21:46:26+08:00','44','3V3MQOTCCE19V3TEBJ9E'),('157','2022-04-23T21:46:27+08:00','71','4MCE75JL07OS6MLGASTY'),('158','2022-04-23T21:46:28+08:00','28','K7PSGN0X225SSI285CO0'),('159','2022-04-23T21:46:29+08:00','3','5KOUCEM79TTLFW30E58L'),('160','2022-04-23T21:46:30+08:00','74','S07VFSX4BUYJYFJ3FNXT'),('161','2022-04-23T21:46:31+08:00','76','OH1VTX8GQ2H080ZGSHPG'),('162','2022-04-23T21:46:32+08:00','15','TS94ICRX8WW3SOT43VJ0'),('163','2022-04-23T21:46:33+08:00','62','C2YJF70TWTQL0S0EMQ55'),('164','2022-04-23T21:46:34+08:00','35','UV5UC3VZS31J4D7H5B8K'),('165','2022-04-23T21:46:35+08:00','67','UXP37AJ988DVS6F1FEZ3'),('166','2022-04-23T21:46:36+08:00','85','GX4THYCM6EZ21X2GDMB3'),('167','2022-04-23T21:46:37+08:00','36','OV7Z5SMG86OISNFNGUHY'),('168','2022-04-23T21:46:38+08:00','26','BABY8J2DJRNZ2F3WFY7I'),('169','2022-04-23T21:46:39+08:00','32','O6NIODWXCWMEOM3R1JBE'),('170','2022-04-23T21:46:40+08:00','13','884LO3EUY565WTZPV6WY'),('171','2022-04-23T21:46:41+08:00','1','XGA3UHN8U3FRFAVRXJC2'),('172','2022-04-23T21:46:42+08:00','12','HTGDDI9N0K8UFB3L8WXI'),('173','2022-04-23T21:46:43+08:00','26','QLH1NRI1YADRHATSCIH7'),('174','2022-04-23T21:46:44+08:00','46','OIQU0JSOFS2OLIG7VFGK'),('175','2022-04-23T21:46:45+08:00','3','S1IN8OL2FDL10KM0TC6A'),('176','2022-04-23T21:46:46+08:00','13','MWV8P589XJ98ZBREF3Z6'),('177','2022-04-23T21:46:47+08:00','29','GSNALCTE6J2GW0QOWHL4'),('178','2022-04-23T21:46:48+08:00','33','ODXSF0PZ0NN3SWI723BS'),('179','2022-04-23T21:46:49+08:00','32','EFAZN780JFNJ897OZLCG'),('180','2022-04-23T21:46:50+08:00','6','ACYY43U0OTZKMN151FK4'),('181','2022-04-23T21:46:51+08:00','64','KVWBHW3KI6L4ADKDTOW2'),('182','2022-04-23T21:46:52+08:00','1','41BKEAN848WCYLTU2PM0'),('183','2022-04-23T21:46:53+08:00','61','T4D40HP23GO6Y4A7ZP0C'),('184','2022-04-23T21:46:54+08:00','48','V57Y5F9ZUAP6D81T9GE3'),('185','2022-04-23T21:46:55+08:00','92','B71M6LJVE6H6TS9SE0CZ'),('186','2022-04-23T21:46:56+08:00','77','ATX8SEQL3NBJJHBSI1UG'),('187','2022-04-23T21:46:57+08:00','48','03HG6N1588PXUJZGDSO6'),('188','2022-04-23T21:46:58+08:00','20','YPZHMAAMVHD39QZLAXNZ'),('189','2022-04-23T21:46:59+08:00','30','0IVJZU3HP8S6GIQSRTJJ'),('190','2022-04-23T21:47:00+08:00','52','BIGXFTX3C3OP2IPUL3ZJ'),('191','2022-04-23T21:47:01+08:00','42','2XVT2IS4TGZHRXXOH377'),('192','2022-04-23T21:47:02+08:00','15','EBAVA4USA8LHF5KYQKNE'),('193','2022-04-23T21:47:03+08:00','8','UUMNRZS1S9EUQY80OUT1'),('194','2022-04-23T21:47:04+08:00','71','AV52PNIBW611S12AOCX4'),('195','2022-04-23T21:47:05+08:00','18','5YJPFUERR9XA8WKA53VY'),('196','2022-04-23T21:47:06+08:00','7','U1FW0MKXT1Y090BZHHFS'),('197','2022-04-23T21:47:07+08:00','26','7EXL2656MER6M2Z6ACNG'),('198','2022-04-23T21:47:08+08:00','73','RJXM7D1PXC2C0G3M279Z'),('199','2022-04-23T21:47:09+08:00','70','ZN1ZFANNX77B7TLANR4I'),('200','2022-04-23T21:47:10+08:00','26','ZE8A957F91M3RRY89UA9'),('201','2022-04-23T21:47:11+08:00','91','8KWYA3VQLG8EX9X67UKP'),('202','2022-04-23T21:47:12+08:00','27','0ZZAG3GLWOC25XPB50QO'),('203','2022-04-23T21:47:13+08:00','66','NZV0XZTSZ4B8WJ0ZFWZK'),('204','2022-04-23T21:47:14+08:00','10','NM639EXWVI7P51XY382L'),('205','2022-04-23T21:47:15+08:00','90','4LW34DLBQ3DAUR8AXUUC'),('206','2022-04-23T21:47:16+08:00','0','PAD5UM911S45ZRRJPK51'),('207','2022-04-23T21:47:17+08:00','28','6DYXGZRSG9RW9AFIC6EE'),('208','2022-04-23T21:47:18+08:00','45','W351EGTGZ40PZMRCWM3I'),('209','2022-04-23T21:47:19+08:00','83','X2ELI4XY3115F7RFRXYV'),('210','2022-04-23T21:47:20+08:00','80','58ENM62LV0CGVHM9ZCKU'),('211','2022-04-23T21:47:21+08:00','48','4J8HEDOBRF8Q8LPLN4ZY'),('212','2022-04-23T21:47:22+08:00','28','KWIRP74ZLE3F1NMSCYYH'),('213','2022-04-23T21:47:23+08:00','85','L9X5G4R9XN4Q0V9FLDZ3'),('214','2022-04-23T21:47:24+08:00','41','7GWD1YNK5ZL78QCMJY5R'),('215','2022-04-23T21:47:25+08:00','10','CEYOH90SFD5YQYAVT09R'),('216','2022-04-23T21:47:26+08:00','85','5VU3MF8LDHCIDVY5DTE0'),('217','2022-04-23T21:47:27+08:00','72','4QKI3JDWATAMYG1EW2MH'),('218','2022-04-23T21:47:28+08:00','14','YQ1WVB49UQDHENYEHJP1'),('219','2022-04-23T21:47:29+08:00','89','0FTJRS0RUZCRR1MVMDE4'),('220','2022-04-23T21:47:30+08:00','27','R8YLDXK3YYNXYHIUXN63'),('221','2022-04-23T21:47:31+08:00','60','MIE3AACTLSH9UMTQ4VQY'),('222','2022-04-23T21:47:32+08:00','41','RXTAMYA2QZ0MOVI8Y6ID'),('223','2022-04-23T21:47:33+08:00','58','8T9QPMELW2Y1FW4DDD0B'),('224','2022-04-23T21:47:34+08:00','82','7HDS3KZ9IGYROINGP7UC'),('225','2022-04-23T21:47:35+08:00','2','REXR19V890QVY0WUQZ4V'),('226','2022-04-23T21:47:36+08:00','55','OQGOVLB7QDSQRYIMOBU0'),('227','2022-04-23T21:47:37+08:00','0','DFZOI9MKKRI3HGAI2909'),('228','2022-04-23T21:47:38+08:00','3','ZRPDLO8ORZHAJC9QBG52'),('229','2022-04-23T21:47:39+08:00','73','UV9091RNXDTRPR0OW60L'),('230','2022-04-23T21:47:40+08:00','8','UAVC8SRO5ZU5A01R58ML'),('231','2022-04-23T21:47:41+08:00','50','IO9A78FQWJ0DL631RY7R'),('232','2022-04-23T21:47:42+08:00','48','2NUTGX8AHOJ9C5H3SYOA'),('233','2022-04-23T21:47:43+08:00','71','JL18BS0YXPP8CC56JIP4'),('234','2022-04-23T21:47:44+08:00','27','6V6VPZ2Q2OQDIBZMTFUY'),('235','2022-04-23T21:47:45+08:00','0','Q1VEIPZTX8V6VEB1B1VO'),('236','2022-04-23T21:47:46+08:00','71','A817Z6K0IIF65LEVUJXB'),('237','2022-04-23T21:47:47+08:00','59','9K4OJM0II5571X01ZJ7I'),('238','2022-04-23T21:47:48+08:00','26','3EGKR9UYMM49UYSN8HOQ'),('239','2022-04-23T21:47:49+08:00','16','PJD67KX2DS0P1UBDII8N'),('240','2022-04-23T21:47:50+08:00','64','S04ZP6IQPPW2NAL1IUMN'),('241','2022-04-23T21:47:51+08:00','97','BOZL8HAWW4GQAP9KPXAM'),('242','2022-04-23T21:47:52+08:00','99','FGBB3C606HKCMD8MAM2N'),('243','2022-04-23T21:47:53+08:00','19','FZLB7ZJB5U13AMSCR8OS'),('244','2022-04-23T21:47:54+08:00','46','9RUYWZVNC4QMLQNBVFI0'),('245','2022-04-23T21:47:55+08:00','4','9S74Z5HA23BE0EVL7UBO'),('246','2022-04-23T21:47:56+08:00','5','RFSRLH7USAXKODQZG61Y'),('247','2022-04-23T21:47:57+08:00','97','Q54H6YINJH9FT1EPCTXR'),('248','2022-04-23T21:47:58+08:00','22','MRP50V2N5U2U69MQA81O'),('249','2022-04-23T21:47:59+08:00','12','73ZYDQKW8EOPPW5ZJT4C'),('250','2022-04-23T21:48:00+08:00','72','DOJ1KBNQ1Y5V7L4GPW3G'),('251','2022-04-23T21:48:01+08:00','33','VJYZ6TFUNYEDN9OBL3SI'),('252','2022-04-23T21:48:02+08:00','4','3LAU5L2205ZWODUCHEYL'),('253','2022-04-23T21:48:03+08:00','14','ELFJI6788Y62MPOK29TL'),('254','2022-04-23T21:48:04+08:00','84','JNS70R297864GN4H1EU0'),('255','2022-04-23T21:48:05+08:00','27','2SPK9F4639I9XMM6MSEG'),('256','2022-04-23T21:48:06+08:00','42','DFU63R3F3JWEK4X7C6VC'),('257','2022-04-23T21:48:07+08:00','77','H6TQNAWVIT7G49VHNOIN'),('258','2022-04-23T21:48:08+08:00','8','ITM65YS2YKVM84243YAW'),('259','2022-04-23T21:48:09+08:00','63','JN6A1SLQ09D5EOBSJP8H'),('260','2022-04-23T21:48:10+08:00','73','52CI8DURKB2B9SUESVZ2'),('261','2022-04-23T21:48:11+08:00','43','4YJY1NSDLPFYZ2WK4SCX'),('262','2022-04-23T21:48:12+08:00','81','BJ50SG7RM5DF933ZBMYJ'),('263','2022-04-23T21:48:13+08:00','19','JA48TWNQQPAML4R05SAX'),('264','2022-04-23T21:48:14+08:00','74','1ZJ2YEJJO0V8YKD2NJ7W'),('265','2022-04-23T21:48:15+08:00','6','8QH6A9VA9D0IQL9IRCLN'),('266','2022-04-23T21:48:16+08:00','62','YNVZNRA71VJO889SY9NW'),('267','2022-04-23T21:48:17+08:00','53','7QHHGBQNB55JX8E9HHBQ'),('268','2022-04-23T21:48:18+08:00','82','YL8SJJI6NVSE3F46PB3G'),('269','2022-04-23T21:48:19+08:00','36','LSS2HPR3P2LHRZA10NYM'),('270','2022-04-23T21:48:20+08:00','45','P9LN4YPCXUWJL02XJN8L'),('271','2022-04-23T21:48:21+08:00','77','4NSO5GR5CRSPY8WQSTMM'),('272','2022-04-23T21:48:22+08:00','0','8OMJPJX9MF398EE2E9AH'),('273','2022-04-23T21:48:23+08:00','15','NT4GCTWK5NHAEODBLE26'),('274','2022-04-23T21:48:24+08:00','24','LZ740N619Z9F5O1FFAOK'),('275','2022-04-23T21:48:25+08:00','76','WTRMJZT4LIWGCSUSME2V'),('276','2022-04-23T21:48:26+08:00','85','LS6BT4NZ66Z008J6Y59O'),('277','2022-04-23T21:48:27+08:00','95','QC1AXBFIB5ACX8NVAJ50'),('278','2022-04-23T21:48:28+08:00','12','LI50JQZ1BCT7WVPIRCFS'),('279','2022-04-23T21:48:29+08:00','28','J48NWI2CY9V73QVSAYNS'),('280','2022-04-23T21:48:30+08:00','31','J162F0ZB2TP4C9EO3WP9'),('281','2022-04-23T21:48:31+08:00','90','JGJ3P6O5JNZUGLK8N7LW'),('282','2022-04-23T21:48:32+08:00','5','3M4MRTSIKV68UNRCRLJN'),('283','2022-04-23T21:48:33+08:00','31','X9AOKXMAZYSW158DW7QK'),('284','2022-04-23T21:48:34+08:00','32','SINLSD5RAJJ6CR7291TQ'),('285','2022-04-23T21:48:35+08:00','31','GWCG8JY2BXC5YI2NUC85'),('286','2022-04-23T21:48:36+08:00','80','6BK33FA6NI6GO9Q7KUO2'),('287','2022-04-23T21:48:37+08:00','11','GH180LKAFVZ2WK0RRF7H'),('288','2022-04-23T21:48:38+08:00','24','SLLW52XCWGONUFB6OEU5'),('289','2022-04-23T21:48:39+08:00','17','PEQGF06E13GNPDN46DI1'),('290','2022-04-23T21:48:40+08:00','98','2PEE28ELWLWWZ91L2K41'),('291','2022-04-23T21:48:41+08:00','81','K62BZLPPPDWVK3HZV1WR'),('292','2022-04-23T21:48:42+08:00','30','Y3POBG8876271DO03SXR'),('293','2022-04-23T21:48:43+08:00','51','R60EZ42IUV24J9HIJ8SV'),('294','2022-04-23T21:48:44+08:00','78','XFAKL7AXNKOYBC2URTA3'),('295','2022-04-23T21:48:45+08:00','32','CPCPKXWSZKV7TBR7OWRN'),('296','2022-04-23T21:48:46+08:00','20','T6F7D1BSMJ4L4MZ8HD6U'),('297','2022-04-23T21:48:47+08:00','79','UD0QI0YLE13ARJ3D1CKG'),('298','2022-04-23T21:48:48+08:00','93','KOH61S5DIOL07JPG6ZFD'),('299','2022-04-23T21:48:49+08:00','90','XAOOHNCSXBQJA1FTVWJN'),('300','2022-04-23T21:48:50+08:00','20','F9MZ7P2TE9HRL965JTQH'),('301','2022-04-23T21:48:51+08:00','12','2ZMF1EMZU6VMJWHDRB1L'),('302','2022-04-23T21:48:52+08:00','27','PX0QFK8KD1LNUVA1L6J9'),('303','2022-04-23T21:48:53+08:00','69','0TE9Z0H753GF4SE7OLSN'),('304','2022-04-23T21:48:54+08:00','59','H1RWLIOW001FOYX07MPC'),('305','2022-04-23T21:48:55+08:00','1','S6E11KVU9R0AGWEXXW0H'),('306','2022-04-23T21:48:56+08:00','25','KRFC501W1LKTZI2BSFSG'),('307','2022-04-23T21:48:57+08:00','92','AGYTLWT1PW94F4BE3XLH'),('308','2022-04-23T21:48:58+08:00','40','3RJCSPTPETAY8DDB56PY'),('309','2022-04-23T21:48:59+08:00','15','51P4DM0XATV7GM8ONAAN'),('310','2022-04-23T21:49:00+08:00','33','N4NHRAH423RJ3756CPZN'),('311','2022-04-23T21:49:01+08:00','56','LAX6W1NMTID2SNTZMHO3'),('312','2022-04-23T21:49:02+08:00','70','TX3CNZYNBUWXAU0O4E30'),('313','2022-04-23T21:49:03+08:00','49','4WFD3UNVFFTLNYXX5KCI'),('314','2022-04-23T21:49:04+08:00','54','RS83HS83MZTZ460X0IFD'),('315','2022-04-23T21:49:05+08:00','49','WIVV7ZK1NYVSQ7D7L6HM'),('316','2022-04-23T21:49:06+08:00','68','FJ0MKYFDI190FM08OJF6'),('317','2022-04-23T21:49:07+08:00','96','FP0CBS7EN6UWIJ2UBKIM'),('318','2022-04-23T21:49:08+08:00','32','NDHSYVWMR5WCPSVSUZLM'),('319','2022-04-23T21:49:09+08:00','22','FKT39YKRAU2KG8OW9YJD'),('320','2022-04-23T21:49:10+08:00','31','ZWNRBD2GXSY74QNGDP6R'),('321','2022-04-23T21:49:11+08:00','69','BM41L1TC7ALIV7V65PVD'),('322','2022-04-23T21:49:12+08:00','71','IZS7WLD30NVZG1HOLNKD'),('323','2022-04-23T21:49:13+08:00','5','GN62BVCBQFOQHJIQFP2G'),('324','2022-04-23T21:49:14+08:00','23','6RM0JSJRIRB0WKAOK8CT'),('325','2022-04-23T21:49:15+08:00','77','R5FI6G7Q1WR4OG7ZL2E4'),('326','2022-04-23T21:49:16+08:00','65','RB9163R28HTLNPX37AUF'),('327','2022-04-23T21:49:17+08:00','52','NGS7V6D3OW341SBI99OO'),('328','2022-04-23T21:49:18+08:00','55','NJG2RNHU1L2KFY6GF9SN'),('329','2022-04-23T21:49:19+08:00','17','CIMX6Y7RVUIZZP7GPP8Z'),('330','2022-04-23T21:49:20+08:00','15','9B2BH8LBXF176KQF9JJB'),('331','2022-04-23T21:49:21+08:00','34','0KRSVOWOEF2Z8O0UIIWN'),('332','2022-04-23T21:49:22+08:00','80','203PEZRZ128JX27Q76M0'),('333','2022-04-23T21:49:23+08:00','39','WOP7038BWCMCFQZRJVPY'),('334','2022-04-23T21:49:24+08:00','92','YC46ZW7HJWTBIA16YQV3'),('335','2022-04-23T21:49:25+08:00','61','DHZJOL2F63KDI3NLFHM5'),('336','2022-04-23T21:49:26+08:00','14','8UXEMPQNNH3GWI1Q9F2A'),('337','2022-04-23T21:49:27+08:00','5','WFWY4QJT3W3YJR4OAB9K'),('338','2022-04-23T21:49:28+08:00','52','M02F9D2OQKJK26ZNXFTM'),('339','2022-04-23T21:49:29+08:00','75','L1UKLSDZUYPB5COA1SG3'),('340','2022-04-23T21:49:30+08:00','34','OYAX7PKIX2ULD7MVS870'),('341','2022-04-23T21:49:31+08:00','37','1PV9C7S30SHK1J8J43PG'),('342','2022-04-23T21:49:32+08:00','84','GBWY04XI16HS7XAIQAQC'),('343','2022-04-23T21:49:33+08:00','98','I4EUXCQK83OCAZP06V9Y'),('344','2022-04-23T21:49:34+08:00','60','T0EVJAJAH37K8A99OLD0'),('345','2022-04-23T21:49:35+08:00','19','DHHI836RPWJCEDOOE7TT'),('346','2022-04-23T21:49:36+08:00','78','TBZLKOAD72NG3B8I1BZG'),('347','2022-04-23T21:49:37+08:00','82','THL8XPH3ID6C6Z16SLA8'),('348','2022-04-23T21:49:38+08:00','40','50VKWFZNU1NBD18O2N6N'),('349','2022-04-23T21:49:39+08:00','55','J8MH94TTAP4GPDE18KJI'),('350','2022-04-23T21:49:40+08:00','74','TQ8LU2ODG5UG1M9ZDPPP'),('351','2022-04-23T21:49:41+08:00','79','AQ1PEAT8LE0ES43P6MKY'),('352','2022-04-23T21:49:42+08:00','64','QRRPOR3RXDT9RI5IF2O3'),('353','2022-04-23T21:49:43+08:00','36','VXZJQTWKCDGGK0FTS687'),('354','2022-04-23T21:49:44+08:00','5','V6IKBK5D9ZGWMAHLM84G'),('355','2022-04-23T21:49:45+08:00','21','EYUOLBBRM4J9WG8JP33W'),('356','2022-04-23T21:49:46+08:00','0','8ZQX5MNX9DM5WJRUW26A'),('1065','2022-04-23T22:01:35+08:00','66','N6XIXY1W1L361B1IP2VA'),('1066','2022-04-23T22:01:36+08:00','98','V3AGCBDD5YSMLZVB4QGV'),('1067','2022-04-23T22:01:37+08:00','68','OCF1M3YACAQVY3I9WA3Z'),('1068','2022-04-23T22:01:38+08:00','70','N621CFRZKRKNFWPDFMNN'),('1069','2022-04-23T22:01:39+08:00','10','1WW4UV5F3F31RQPVTLNP'),('1070','2022-04-23T22:01:40+08:00','85','ZPNLBJ5WJE4WMS1Y7RJ7'),('1071','2022-04-23T22:01:41+08:00','8','MIACAQB05HNDRM8FARFK'),('1072','2022-04-23T22:01:42+08:00','55','01W3PXGE0O985CZDXCON'),('1073','2022-04-23T22:01:43+08:00','55','X6R412SDRBJ9ZP88TOQ0'),('1074','2022-04-23T22:01:44+08:00','30','ENZD5JK4XBCQB53ZW3PS'),('1075','2022-04-23T22:01:45+08:00','95','9NZHD6O4XN2AJABBP604'),('1076','2022-04-23T22:01:46+08:00','71','IMPCYLBXMNZOAV0519H8'),('1077','2022-04-23T22:01:47+08:00','19','8VM1MV900S7FNMMLTBSB'),('1078','2022-04-23T22:01:48+08:00','11','LXYBPBKSXD8ZCJ8KMYL4'),('1079','2022-04-23T22:01:49+08:00','15','1BMAVOCXDD255JKYMETN'),('1080','2022-04-23T22:01:50+08:00','24','Z5RO88K7XHTMQVTNNNPY'),('1081','2022-04-23T22:01:51+08:00','84','3JSKA6ND97L9WPJUV2MT'),('1082','2022-04-23T22:01:52+08:00','75','04YYS68NL8W61JFXBLIS'),('1083','2022-04-23T22:01:53+08:00','78','7DI6LRVAHEP2S2BZSYRW'),('1084','2022-04-23T22:01:54+08:00','29','G84PU05DNUU796PPU2OM'),('1085','2022-04-23T22:01:55+08:00','36','N1ZI0BEO7WZ0XX8IBYEQ'),('1086','2022-04-23T22:01:56+08:00','12','OOVRIXENFBEXAY8G3I71'),('1087','2022-04-23T22:01:57+08:00','34','OSRFSHN4K7CB8FJXWNRP'),('1088','2022-04-23T22:01:58+08:00','9','46X9E0QQCA3IW4GCFMIL'),('1089','2022-04-23T22:01:59+08:00','0','QJUH7VW8TMC8AY6S6JTY'),('1090','2022-04-23T22:02:00+08:00','20','33HSLU5FINH9XMET6MUD'),('1091','2022-04-23T22:02:01+08:00','9','KK1POB06DTLPHI4ONMEK'),('1092','2022-04-23T22:02:02+08:00','72','2JYM34SMJMEJ8SSSSR7Z'),('1093','2022-04-23T22:02:03+08:00','2','850EM907QCWW26N6IBUN'),('1094','2022-04-23T22:02:04+08:00','56','W2EI9AWWMNMPQG68MAV5'),('1095','2022-04-23T22:02:05+08:00','53','GPK7FA4NFB41EQFAAIVN'),('1096','2022-04-23T22:02:06+08:00','82','F2D3ATY1NUBC43HOMXP8'),('1097','2022-04-23T22:02:07+08:00','2','O2D41RO4A3A8WJZD5GYZ'),('1098','2022-04-23T22:02:08+08:00','97','RG7J3DC0IJKP6J34RE31'),('1099','2022-04-23T22:02:09+08:00','33','VRVCI8XMLWHO875QG298'),('1100','2022-04-23T22:02:10+08:00','67','0AUC1BEH7STRU3ZGHQY8'),('1101','2022-04-23T22:02:11+08:00','51','7SRVX06EZ23C67T7QZGQ'),('1102','2022-04-23T22:02:12+08:00','45','CQLOPOVPPKH0FV7VIGBH'),('1103','2022-04-23T22:02:13+08:00','57','JZ1K1UZW76BZ3VHGRMPQ'),('1104','2022-04-23T22:02:14+08:00','89','0IZJ1PAI8KZPHXSFNMW2'),('1105','2022-04-23T22:02:15+08:00','2','OOCIWNTK8CB0K31RVJ3J'),('1106','2022-04-23T22:02:16+08:00','90','XO9RJI4CUNEE8IEMDMYN'),('1107','2022-04-23T22:02:17+08:00','84','843Q8TCJ6JTQ9G7VM8HH'),('1108','2022-04-23T22:02:18+08:00','96','NLUF6HNPJEBOZNX232PN'),('1109','2022-04-23T22:02:19+08:00','14','LXUM35M3VLM9ONBKEYCQ'),('1110','2022-04-23T22:02:20+08:00','85','UIGOCKAKAD2ETAPZ1AC9'),('1111','2022-04-23T22:02:21+08:00','34','S3ZZK2VEUXJ6M99EXOF0'),('1112','2022-04-23T22:02:22+08:00','17','9EXZOPMXNA4TUU3JJQE8'),('1113','2022-04-23T22:02:23+08:00','11','HZBN78EF2HLN9RSPLHQ6'),('1114','2022-04-23T22:02:24+08:00','53','OSEA5SZS5SX0HWL5D4S3'),('1115','2022-04-23T22:02:25+08:00','53','BKWLJGL9P920IR53N0D6'),('1116','2022-04-23T22:02:26+08:00','35','2YI9F4WHP11QF9CUVEI9'),('1117','2022-04-23T22:02:27+08:00','87','6BO5LKMJJHU21LZ0I15M'),('1118','2022-04-23T22:02:28+08:00','30','FPCCCMJMXVKH18K2WYOE'),('1119','2022-04-23T22:02:29+08:00','34','R2MPGSDZIPXZ8JNBP7HI'),('1120','2022-04-23T22:02:30+08:00','10','1I2M4HXPWEWPX554QC59'),('1121','2022-04-23T22:02:31+08:00','55','W335CXSKE2QXFE74N5PR'),('1122','2022-04-23T22:02:32+08:00','88','7N34D90GYREM77V0FOVZ'),('1123','2022-04-23T22:02:33+08:00','44','UTAW2SBUI7CXN1GD5TVK'),('1124','2022-04-23T22:02:34+08:00','94','09YSFTVZNLJL64PWG7S7'),('1125','2022-04-23T22:02:35+08:00','81','VFF3KDOVZMV9EN93S1FX'),('1126','2022-04-23T22:02:36+08:00','37','4EHMJIO5DMRZD3TCHBTI'),('1127','2022-04-23T22:02:37+08:00','88','W06UAWRCEKWLAIYXRPRB'),('1128','2022-04-23T22:02:38+08:00','64','Y0Z3Q4KXBXCXKZOEEVW8'),('1129','2022-04-23T22:02:39+08:00','5','ZX9XBUJ3SYRIV0QBF77P'),('1130','2022-04-23T22:02:40+08:00','68','B4VAOWTT0RQ8WWBTNUXJ'),('1131','2022-04-23T22:02:41+08:00','69','USCOVFVL3K8DX9L5R5UB'),('1132','2022-04-23T22:02:42+08:00','84','0VOUPNK8ZW1H100A5AZE'),('1133','2022-04-23T22:02:43+08:00','6','DP0U2OHOYOYEDOHZ93ER'),('1134','2022-04-23T22:02:44+08:00','66','LL8E8FW55780VVYDCDL9'),('1135','2022-04-23T22:02:45+08:00','17','EAQZ1A3PXYLZBSYFQ8UP'),('1136','2022-04-23T22:02:46+08:00','92','ZJTDR1VLI9S1ELMJIXCV'),('1137','2022-04-23T22:02:47+08:00','75','5I0ZBL681BLSZR1RVMTD'),('1138','2022-04-23T22:02:48+08:00','48','ZD6MUAVSLZ07YYUEJZ26'),('1139','2022-04-23T22:02:49+08:00','17','B9J36G9CVFC8XSDBU376'),('1140','2022-04-23T22:02:50+08:00','23','99JNEB0U2T5M02JNW65A'),('1141','2022-04-23T22:02:51+08:00','13','UXSL9TYMQ7BGPZNU30J2'),('1142','2022-04-23T22:02:52+08:00','48','IGESKOJH58131UJCM018'),('1143','2022-04-23T22:02:53+08:00','15','JJ4AV6K6ZOOQJMHH5QY7'),('1144','2022-04-23T22:02:54+08:00','67','T85Z2LNVC52MMSBLCQN8'),('1145','2022-04-23T22:02:55+08:00','15','WSOKIZ9BTOUHBJLQXRIQ'),('1146','2022-04-23T22:02:56+08:00','24','LAG24Y85DWVZCER59EFC'),('1147','2022-04-23T22:02:57+08:00','73','THL8CQ232Z9IMYXMTNC6'),('1148','2022-04-23T22:02:58+08:00','19','T198GS05AHB7UTM75807'),('1149','2022-04-23T22:02:59+08:00','39','VIUXZ7FIFL8DZ2XE8I0K'),('1150','2022-04-23T22:03:00+08:00','42','9T25T45N128O0Q0HOY8L'),('1151','2022-04-23T22:03:01+08:00','40','NHE48147PNA1G0BY2N9H'),('1152','2022-04-23T22:03:02+08:00','74','4MZDHQWNUXN2TE14A0UT'),('1153','2022-04-23T22:03:03+08:00','95','3J90YTNQ6PD7E1Y41VV2'),('1154','2022-04-23T22:03:04+08:00','85','SHO3KACSWLC004LT17XM'),('1155','2022-04-23T22:03:05+08:00','0','1BO1YFXZCVMAM63JDRQ9'),('1156','2022-04-23T22:03:06+08:00','8','7PHS7362NVXDJTF40KM8'),('1157','2022-04-23T22:03:07+08:00','40','68I4KHCJAB4CHUJR803S'),('1158','2022-04-23T22:03:08+08:00','93','PFGQQ7O6L5WHMB9Z5RDI'),('1159','2022-04-23T22:03:09+08:00','18','0DSXB1G7TICNUWZQSQ3H'),('1160','2022-04-23T22:03:10+08:00','45','SXGMHZA5Q736QMRI6Y06'),('1161','2022-04-23T22:03:11+08:00','53','80TGC403M76FNMVS7HSN'),('1162','2022-04-23T22:03:12+08:00','31','Z8ZEC3XQZ9CH999LMKMI'),('1163','2022-04-23T22:03:13+08:00','34','5UP1IU8AT90EINCWE34A'),('1164','2022-04-23T22:03:14+08:00','41','4HFO88GEQUXH00QTNMW7'),('1165','2022-04-23T22:03:15+08:00','75','ESZU6OCPXZQZSU2YHXL2'),('1166','2022-04-23T22:03:16+08:00','21','BA15BAZTMUI2EZN41Y6G'),('1167','2022-04-23T22:03:17+08:00','16','QMSKZIOEQU8ISJ4AU0A6'),('1168','2022-04-23T22:03:18+08:00','22','ZEPNWW14X3BP0WAJUQ0U'),('1169','2022-04-23T22:03:19+08:00','6','5M26OTNE865UVEJOL4FS'),('1170','2022-04-23T22:03:20+08:00','72','FU5TBDUAO2FTA63JBB47'),('1171','2022-04-23T22:03:21+08:00','28','SZP8OIEZMGGP7YXG1ZHQ'),('1172','2022-04-23T22:03:22+08:00','85','1HBXFQUTTE7RFNJN7A0B'),('1173','2022-04-23T22:03:23+08:00','75','DAERQ721266OLPEF2HBT'),('1174','2022-04-23T22:03:24+08:00','20','DW48V68GDQV08S7J0GS0'),('1175','2022-04-23T22:03:25+08:00','99','I0X6VQ1Z1IE8VM5K06KT'),('1176','2022-04-23T22:03:26+08:00','90','2FZW5QU73HUU5JRUAU7R'),('1177','2022-04-23T22:03:27+08:00','84','LMI6TSE3UCVGZE5O03UJ')] data bulk insert mysql falied: Error 1146: Table 'steven.MARVIN3' doesn't exist"] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/24 10:14:22.578 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 10:14:22.579 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin3\",\"marvin4\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 10:14:28.013 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/24 10:14:29.228 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN4]
[2022/04/24 10:14:29.228 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN3]
[2022/04/24 10:14:34.999 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN4] ["rowid sql"="SELECT * FROM MARVIN.MARVIN4"] [cost=5.663514208s]
[2022/04/24 10:14:35.000 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN4] ["rowid sql"="SELECT * FROM MARVIN.MARVIN4"]
[2022/04/24 10:14:35.281 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN3] ["rowid sql"="SELECT * FROM MARVIN.MARVIN3"] [cost=5.688895125s]
[2022/04/24 10:14:35.281 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN3] ["rowid sql"="SELECT * FROM MARVIN.MARVIN3"]
[2022/04/24 10:14:36.291 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN4] ["rowid sql"="SELECT * FROM MARVIN.MARVIN4"] [cost=1.291137125s]
[2022/04/24 10:14:36.408 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN3] ["rowid sql"="SELECT * FROM MARVIN.MARVIN3"] [cost=1.126920792s]
[2022/04/24 10:14:36.569 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN4] [sql="SELECT * FROM MARVIN.MARVIN4"] [status=success]
[2022/04/24 10:14:36.621 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN3] [sql="SELECT * FROM MARVIN.MARVIN3"] [status=success]
[2022/04/24 10:14:36.849 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN4] [status=success]
[2022/04/24 10:14:36.850 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN4] [cost=7.341201958s]
[2022/04/24 10:14:36.850 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN3] [status=success]
[2022/04/24 10:14:36.850 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN3] [cost=7.398522209s]
[2022/04/24 10:14:36.851 +08:00] [INFO] [taskflow.go:140] ["all full table data sync finished"] [schema=marvin] [cost=8.838282s]
[2022/04/24 10:18:35.992 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 10:18:35.992 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin3\",\"marvin4\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 10:18:41.612 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/24 10:18:42.629 +08:00] [INFO] [taskflow.go:113] ["all full table data sync finished"] [schema=marvin] [cost=1.016105625s]
[2022/04/24 10:19:27.893 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 10:19:27.893 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin3\",\"marvin4\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 10:19:33.341 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/24 10:19:34.884 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN3]
[2022/04/24 10:19:34.884 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN4]
[2022/04/24 10:19:35.224 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN4] [sql="SELECT * FROM MARVIN.MARVIN4"] ["statistics rows"=0]
[2022/04/24 10:19:35.262 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN3] [sql="SELECT * FROM MARVIN.MARVIN3"] ["statistics rows"=0]
[2022/04/24 10:19:35.743 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN4] [cost=859.790792ms]
[2022/04/24 10:19:35.896 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN3] [cost=1.012160292s]
[2022/04/24 10:19:35.898 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN3]
[2022/04/24 10:19:35.898 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN4]
[2022/04/24 10:19:41.735 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN4] ["rowid sql"="SELECT * FROM MARVIN.MARVIN4"] [cost=5.722759792s]
[2022/04/24 10:19:41.793 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN3] ["rowid sql"="SELECT * FROM MARVIN.MARVIN3"] [cost=5.729215833s]
[2022/04/24 10:19:42.205 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN4] ["rowid sql"="SELECT * FROM MARVIN.MARVIN4"]
[2022/04/24 10:19:42.545 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN3] ["rowid sql"="SELECT * FROM MARVIN.MARVIN3"]
[2022/04/24 10:19:43.514 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN4] ["rowid sql"="SELECT * FROM MARVIN.MARVIN4"] [cost=1.308672166s]
[2022/04/24 10:19:43.558 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN3] ["rowid sql"="SELECT * FROM MARVIN.MARVIN3"] [cost=1.013346792s]
[2022/04/24 10:19:43.784 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN4] [sql="SELECT * FROM MARVIN.MARVIN4"] [status=success]
[2022/04/24 10:19:43.784 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN3] [sql="SELECT * FROM MARVIN.MARVIN3"] [status=success]
[2022/04/24 10:19:44.065 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN4] [status=success]
[2022/04/24 10:19:44.065 +08:00] [INFO] [extractor.go:325] ["single full table data loader finished"] [schema=marvin] [table=MARVIN4] [cost=7.886560791s]
[2022/04/24 10:19:44.066 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN3] [status=success]
[2022/04/24 10:19:44.066 +08:00] [INFO] [extractor.go:325] ["single full table data loader finished"] [schema=marvin] [table=MARVIN3] [cost=7.886866542s]
[2022/04/24 10:19:44.066 +08:00] [INFO] [taskflow.go:140] ["all full table data sync finished"] [schema=marvin] [cost=10.725386875s]
[2022/04/24 13:09:23.874 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 13:09:23.875 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin3\",\"marvin4\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 13:09:29.685 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/24 13:09:31.265 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN3]
[2022/04/24 13:09:31.264 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN4]
[2022/04/24 13:09:31.610 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN3] [sql="SELECT * FROM MARVIN.MARVIN3"] ["statistics rows"=0]
[2022/04/24 13:09:31.655 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN4] [sql="SELECT * FROM MARVIN.MARVIN4"] ["statistics rows"=0]
[2022/04/24 13:09:32.141 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN3] [cost=876.525833ms]
[2022/04/24 13:09:32.303 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN4] [cost=1.040806292s]
[2022/04/24 13:09:32.304 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN3]
[2022/04/24 13:09:32.304 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN4]
[2022/04/24 13:09:38.218 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN4] ["rowid sql"="SELECT * FROM MARVIN.MARVIN4"] [cost=5.793725166s]
[2022/04/24 13:09:38.219 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN4] ["rowid sql"="SELECT * FROM MARVIN.MARVIN4"]
[2022/04/24 13:09:38.272 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN3] ["rowid sql"="SELECT * FROM MARVIN.MARVIN3"] [cost=5.800578667s]
[2022/04/24 13:09:38.272 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN3] ["rowid sql"="SELECT * FROM MARVIN.MARVIN3"]
[2022/04/24 13:09:39.247 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN4] ["rowid sql"="SELECT * FROM MARVIN.MARVIN4"] [cost=1.028176792s]
[2022/04/24 13:09:39.522 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN4] [sql="SELECT * FROM MARVIN.MARVIN4"] [status=success]
[2022/04/24 13:09:39.800 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN4] [status=success]
[2022/04/24 13:09:39.800 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN4] [cost=7.2186775s]
[2022/04/24 13:09:40.070 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN3] ["rowid sql"="SELECT * FROM MARVIN.MARVIN3"] [cost=1.797944042s]
[2022/04/24 13:09:40.292 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN3] [sql="SELECT * FROM MARVIN.MARVIN3"] [status=success]
[2022/04/24 13:09:40.514 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN3] [status=success]
[2022/04/24 13:09:40.514 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN3] [cost=7.988667083s]
[2022/04/24 13:09:40.515 +08:00] [INFO] [taskflow.go:140] ["all full table data sync finished"] [schema=marvin] [cost=10.829918s]
[2022/04/24 13:33:13.136 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 13:33:13.136 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin5\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 13:33:18.900 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/24 13:33:20.214 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 13:33:20.620 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN5] [sql="SELECT * FROM MARVIN.MARVIN5"] ["statistics rows"=0]
[2022/04/24 13:33:21.183 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN5] [cost=969.596208ms]
[2022/04/24 13:33:21.184 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 13:33:21.482 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5"] [cost=183.211ms]
[2022/04/24 13:33:21.483 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5"]
[2022/04/24 13:33:21.539 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: single full table [steven.MARVIN5] data concurrency bulk insert mysql falied: single full table [steven.MARVIN5] sql [REPLACE INTO steven.MARVIN5 (ID,BIRTHDAY) VALUES ('1','2019-01-01T12:00:34.04859+08:00')] data bulk insert mysql falied: Error 1146: Table 'steven.MARVIN5' doesn't exist"] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/24 13:36:30.215 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 13:36:30.216 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin5\",\"marvin6\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 13:36:35.959 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/24 13:36:37.471 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN6]
[2022/04/24 13:36:37.472 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 13:36:37.842 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN6] [sql="SELECT * FROM MARVIN.MARVIN6"] ["statistics rows"=0]
[2022/04/24 13:36:37.851 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN5] [sql="SELECT * FROM MARVIN.MARVIN5"] ["statistics rows"=0]
[2022/04/24 13:36:38.383 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN6] [cost=913.293625ms]
[2022/04/24 13:36:38.494 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN5] [cost=1.023194709s]
[2022/04/24 13:36:38.495 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 13:36:38.495 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN6]
[2022/04/24 13:36:38.773 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6"] [cost=166.036542ms]
[2022/04/24 13:36:38.773 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6"]
[2022/04/24 13:36:38.818 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5"] [cost=161.607958ms]
[2022/04/24 13:36:38.818 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5"]
[2022/04/24 13:36:38.818 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5"] [cost=161.78875ms]
[2022/04/24 13:36:38.818 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5"]
[2022/04/24 13:36:38.833 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6"] [cost=59.391208ms]
[2022/04/24 13:36:38.874 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5"] [cost=55.931542ms]
[2022/04/24 13:36:39.080 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5"] [cost=261.589583ms]
[2022/04/24 13:36:39.102 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN5] [sql="SELECT * FROM MARVIN.MARVIN5"] [status=success]
[2022/04/24 13:36:39.103 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN6] [sql="SELECT * FROM MARVIN.MARVIN6"] [status=success]
[2022/04/24 13:36:39.290 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN5] [sql="SELECT * FROM MARVIN.MARVIN5"] [status=success]
[2022/04/24 13:36:39.369 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN6] [status=success]
[2022/04/24 13:36:39.370 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN6] [cost=607.829792ms]
[2022/04/24 13:36:39.509 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN5] [status=success]
[2022/04/24 13:36:39.509 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN5] [cost=795.896ms]
[2022/04/24 13:36:39.509 +08:00] [INFO] [taskflow.go:140] ["all full table data sync finished"] [schema=marvin] [cost=3.549870208s]
[2022/04/24 13:38:26.940 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 13:38:26.940 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin5\",\"marvin6\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 13:38:33.420 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/24 13:38:34.954 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN6]
[2022/04/24 13:38:34.954 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 13:38:35.307 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN6] [sql="SELECT * FROM MARVIN.MARVIN6"] ["statistics rows"=0]
[2022/04/24 13:38:35.341 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN5] [sql="SELECT * FROM MARVIN.MARVIN5"] ["statistics rows"=0]
[2022/04/24 13:38:35.850 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN6] [cost=897.809041ms]
[2022/04/24 13:38:35.979 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN5] [cost=1.026567167s]
[2022/04/24 13:38:35.980 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 13:38:35.980 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN6]
[2022/04/24 13:38:36.251 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6"] [cost=164.063459ms]
[2022/04/24 13:38:36.252 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6"]
[2022/04/24 13:38:36.304 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5"] [cost=162.659292ms]
[2022/04/24 13:38:36.305 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5"]
[2022/04/24 13:38:36.311 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6"] [cost=58.61525ms]
[2022/04/24 13:38:36.358 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5"] [cost=52.989458ms]
[2022/04/24 13:38:36.582 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN6] [sql="SELECT * FROM MARVIN.MARVIN6"] [status=success]
[2022/04/24 13:38:36.583 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN5] [sql="SELECT * FROM MARVIN.MARVIN5"] [status=success]
[2022/04/24 13:38:36.862 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN5] [status=success]
[2022/04/24 13:38:36.863 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN5] [cost=602.778ms]
[2022/04/24 13:38:36.863 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN6] [status=success]
[2022/04/24 13:38:36.863 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN6] [cost=602.64475ms]
[2022/04/24 13:38:36.863 +08:00] [INFO] [taskflow.go:140] ["all full table data sync finished"] [schema=marvin] [cost=3.443093042s]
[2022/04/24 13:51:52.335 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 13:51:52.335 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin5\",\"marvin6\",\"marvin7\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 13:51:58.069 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/24 13:51:59.881 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN6]
[2022/04/24 13:51:59.881 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN7]
[2022/04/24 13:51:59.881 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 13:52:00.226 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN6] [sql="SELECT * FROM MARVIN.MARVIN6"] ["statistics rows"=0]
[2022/04/24 13:52:00.248 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN7] [sql="SELECT * FROM MARVIN.MARVIN7"] ["statistics rows"=0]
[2022/04/24 13:52:00.261 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN5] [sql="SELECT * FROM MARVIN.MARVIN5"] ["statistics rows"=0]
[2022/04/24 13:52:00.747 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN6] [cost=868.535625ms]
[2022/04/24 13:52:00.851 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN7] [cost=972.421708ms]
[2022/04/24 13:52:00.865 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN5] [cost=986.804292ms]
[2022/04/24 13:52:00.866 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 13:52:00.866 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN6]
[2022/04/24 13:52:00.866 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN7]
[2022/04/24 13:52:01.150 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7"] [cost=170.388583ms]
[2022/04/24 13:52:01.151 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7"]
[2022/04/24 13:52:01.204 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5"] [cost=164.349791ms]
[2022/04/24 13:52:01.204 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5"]
[2022/04/24 13:52:01.205 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6"] [cost=163.572708ms]
[2022/04/24 13:52:01.205 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6"]
[2022/04/24 13:52:01.257 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5"] [cost=52.592375ms]
[2022/04/24 13:52:01.257 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6"] [cost=51.759667ms]
[2022/04/24 13:52:01.525 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN6] [sql="SELECT * FROM MARVIN.MARVIN6"] [status=success]
[2022/04/24 13:52:01.526 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN5] [sql="SELECT * FROM MARVIN.MARVIN5"] [status=success]
[2022/04/24 13:52:01.799 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN5] [status=success]
[2022/04/24 13:52:01.799 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN5] [cost=659.782625ms]
[2022/04/24 13:52:01.799 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN6] [status=success]
[2022/04/24 13:52:01.799 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN6] [cost=659.230209ms]
[2022/04/24 13:52:01.800 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: single full table [steven.MARVIN7] data concurrency bulk insert mysql falied: single full table [steven.MARVIN7] sql [REPLACE INTO steven.MARVIN7 (ID,BIRTHDAY) VALUES ('1','2019-01-01T12:00:34.04859+08:00'),('2','2022-04-24T13:51:25+08:00')] data bulk insert mysql falied: Error 1146: Table 'steven.MARVIN7' doesn't exist"] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/24 13:52:54.260 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 13:52:54.260 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin5\",\"marvin6\",\"marvin7\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 13:53:00.391 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/24 13:53:02.219 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN7]
[2022/04/24 13:53:02.219 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 13:53:02.219 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN6]
[2022/04/24 13:53:02.567 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN6] [sql="SELECT * FROM MARVIN.MARVIN6"] ["statistics rows"=0]
[2022/04/24 13:53:02.567 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN5] [sql="SELECT * FROM MARVIN.MARVIN5"] ["statistics rows"=0]
[2022/04/24 13:53:02.603 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN7] [sql="SELECT * FROM MARVIN.MARVIN7"] ["statistics rows"=0]
[2022/04/24 13:53:03.083 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN6] [cost=865.362791ms]
[2022/04/24 13:53:03.183 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN5] [cost=964.42025ms]
[2022/04/24 13:53:03.239 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN7] [cost=1.021442041s]
[2022/04/24 13:53:03.241 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 13:53:03.241 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN7]
[2022/04/24 13:53:03.241 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN6]
[2022/04/24 13:53:03.529 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6"] [cost=173.969042ms]
[2022/04/24 13:53:03.530 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6"]
[2022/04/24 13:53:03.586 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7"] [cost=178.081333ms]
[2022/04/24 13:53:03.586 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7"]
[2022/04/24 13:53:03.587 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5"] [cost=179.575417ms]
[2022/04/24 13:53:03.587 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5"]
[2022/04/24 13:53:03.587 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7"] [cost=179.510167ms]
[2022/04/24 13:53:03.587 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7"]
[2022/04/24 13:53:03.589 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6"] [cost=59.072917ms]
[2022/04/24 13:53:03.642 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7"] [cost=54.700375ms]
[2022/04/24 13:53:03.651 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7"] [cost=64.402042ms]
[2022/04/24 13:53:03.857 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5"] [cost=269.789166ms]
[2022/04/24 13:53:03.858 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN6] [sql="SELECT * FROM MARVIN.MARVIN6"] [status=success]
[2022/04/24 13:53:03.859 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN7] [sql="SELECT * FROM MARVIN.MARVIN7"] [status=success]
[2022/04/24 13:53:03.910 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN7] [sql="SELECT * FROM MARVIN.MARVIN7"] [status=success]
[2022/04/24 13:53:04.077 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN5] [sql="SELECT * FROM MARVIN.MARVIN5"] [status=success]
[2022/04/24 13:53:04.132 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN7] [status=success]
[2022/04/24 13:53:04.133 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN7] [cost=669.477666ms]
[2022/04/24 13:53:04.134 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN6] [status=success]
[2022/04/24 13:53:04.135 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN6] [cost=617.390667ms]
[2022/04/24 13:53:04.298 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN5] [status=success]
[2022/04/24 13:53:04.298 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN5] [cost=835.827875ms]
[2022/04/24 13:53:04.299 +08:00] [INFO] [taskflow.go:140] ["all full table data sync finished"] [schema=marvin] [cost=3.907665709s]
[2022/04/24 22:54:47.382 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 22:54:47.383 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin5\",\"marvin6\",\"marvin7\",\"marvin8\",\"marvin9\",\"marvin1\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 22:54:52.697 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/24 22:54:53.633 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="oracle include-tables values [[MARVIN1]] isn't exist in the db schema [marvin]"] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/24 22:55:27.277 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 22:55:27.277 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin5\",\"marvin6\",\"marvin7\",\"marvin8\",\"marvin9\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 22:55:32.214 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/24 22:55:34.542 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN7]
[2022/04/24 22:55:34.542 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN9]
[2022/04/24 22:55:34.542 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN6]
[2022/04/24 22:55:34.542 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN8]
[2022/04/24 22:55:34.542 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 22:55:35.038 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN9] [sql="SELECT * FROM MARVIN.MARVIN9"] ["statistics rows"=0]
[2022/04/24 22:55:35.039 +08:00] [INFO] [sync_full.go:274] ["get oracle table statistics rows"] [schema=MARVIN] [table=MARVIN5] [rows=1]
[2022/04/24 22:55:35.042 +08:00] [INFO] [sync_full.go:274] ["get oracle table statistics rows"] [schema=MARVIN] [table=MARVIN6] [rows=1]
[2022/04/24 22:55:35.047 +08:00] [INFO] [sync_full.go:274] ["get oracle table statistics rows"] [schema=MARVIN] [table=MARVIN7] [rows=2]
[2022/04/24 22:55:35.085 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN8] [sql="SELECT * FROM MARVIN.MARVIN8"] ["statistics rows"=0]
[2022/04/24 22:55:35.493 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN9] [cost=951.219083ms]
[2022/04/24 22:55:35.629 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN8] [cost=1.0873165s]
[2022/04/24 22:55:36.931 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN7] [cost=2.389397042s]
[2022/04/24 22:55:36.934 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN6] [cost=2.392296084s]
[2022/04/24 22:55:37.100 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN5] [cost=2.558583709s]
[2022/04/24 22:55:37.102 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN6]
[2022/04/24 22:55:37.103 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN7]
[2022/04/24 22:55:37.103 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN8]
[2022/04/24 22:55:37.103 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN9]
[2022/04/24 22:55:37.104 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 22:55:37.432 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN8] ["rowid sql"="SELECT * FROM MARVIN.MARVIN8"] [cost=234.202041ms]
[2022/04/24 22:55:37.433 +08:00] [WARN] [extractor.go:262] ["oracle schema table rowid data return null rows, skip"] [schema=marvin] [table=MARVIN8] [sql="SELECT * FROM MARVIN.MARVIN8"]
[2022/04/24 22:55:37.480 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6 WHERE ROWID BETWEEN 'AAASNrAAEAAAANAAAA' AND 'AAASNrAAEAAAANHCcP'"] [cost=230.346625ms]
[2022/04/24 22:55:37.480 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7 WHERE ROWID BETWEEN 'AAASNtAAEAAAANQAAA' AND 'AAASNtAAEAAAANXCcP'"] [cost=235.483917ms]
[2022/04/24 22:55:37.480 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7 WHERE ROWID BETWEEN 'AAASNtAAEAAAANQAAA' AND 'AAASNtAAEAAAANXCcP'"]
[2022/04/24 22:55:37.480 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6 WHERE ROWID BETWEEN 'AAASNrAAEAAAANAAAA' AND 'AAASNrAAEAAAANHCcP'"]
[2022/04/24 22:55:37.528 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6 WHERE ROWID BETWEEN 'AAASNrAAEAAAANAAAA' AND 'AAASNrAAEAAAANHCcP'"] [cost=48.544708ms]
[2022/04/24 22:55:37.528 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7 WHERE ROWID BETWEEN 'AAASNtAAEAAAANQAAA' AND 'AAASNtAAEAAAANXCcP'"] [cost=48.529791ms]
[2022/04/24 22:55:37.644 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5 WHERE ROWID BETWEEN 'AAASNpAAEAAAAMwAAA' AND 'AAASNpAAEAAAAM3CcP'"] [cost=229.007042ms]
[2022/04/24 22:55:37.644 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5 WHERE ROWID BETWEEN 'AAASNpAAEAAAAMwAAA' AND 'AAASNpAAEAAAAM3CcP'"]
[2022/04/24 22:55:37.646 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN9] ["rowid sql"="SELECT * FROM MARVIN.MARVIN9"] [cost=230.36025ms]
[2022/04/24 22:55:37.646 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN9] ["rowid sql"="SELECT * FROM MARVIN.MARVIN9"]
[2022/04/24 22:55:37.690 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5 WHERE ROWID BETWEEN 'AAASNpAAEAAAAMwAAA' AND 'AAASNpAAEAAAAM3CcP'"] [cost=46.160791ms]
[2022/04/24 22:55:37.691 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN9] ["rowid sql"="SELECT * FROM MARVIN.MARVIN9"] [cost=45.541666ms]
[2022/04/24 22:55:37.714 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN7] [sql="SELECT * FROM MARVIN.MARVIN7 WHERE ROWID BETWEEN 'AAASNtAAEAAAANQAAA' AND 'AAASNtAAEAAAANXCcP'"] [status=success]
[2022/04/24 22:55:37.717 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN6] [sql="SELECT * FROM MARVIN.MARVIN6 WHERE ROWID BETWEEN 'AAASNrAAEAAAANAAAA' AND 'AAASNrAAEAAAANHCcP'"] [status=success]
[2022/04/24 22:55:37.807 +08:00] [INFO] [sync_full.go:168] ["clear and update mysql meta"] [schema=marvin] [table=MARVIN8] [sql="SELECT * FROM MARVIN.MARVIN8"] [status=success]
[2022/04/24 22:55:37.878 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN9] [sql="SELECT * FROM MARVIN.MARVIN9"] [status=success]
[2022/04/24 22:55:37.879 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN5] [sql="SELECT * FROM MARVIN.MARVIN5 WHERE ROWID BETWEEN 'AAASNpAAEAAAAMwAAA' AND 'AAASNpAAEAAAAM3CcP'"] [status=success]
[2022/04/24 22:55:37.944 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN7] [status=success]
[2022/04/24 22:55:37.944 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN7] [cost=611.380291ms]
[2022/04/24 22:55:37.949 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN6] [status=success]
[2022/04/24 22:55:37.949 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN6] [cost=614.861958ms]
[2022/04/24 22:55:37.988 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN8] [status=success]
[2022/04/24 22:55:37.989 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN8] [cost=703.92375ms]
[2022/04/24 22:55:38.064 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN5] [status=success]
[2022/04/24 22:55:38.064 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN5] [cost=775.050708ms]
[2022/04/24 22:55:38.068 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN9] [status=success]
[2022/04/24 22:55:38.068 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN9] [cost=775.27225ms]
[2022/04/24 22:55:38.069 +08:00] [INFO] [taskflow.go:140] ["all full table data sync finished"] [schema=marvin] [cost=5.85496425s]
[2022/04/24 22:55:50.460 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 22:55:50.460 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin5\",\"marvin6\",\"marvin7\",\"marvin8\",\"marvin9\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 22:55:55.368 +08:00] [INFO] [reverser.go:35] ["reverse table oracle to mysql start"] [schema=marvin]
[2022/04/24 22:55:55.645 +08:00] [INFO] [config.go:177] ["get oracle to mysql all tables"] [schema=marvin] [tables="[marvin5,marvin6,marvin7,marvin8,marvin9]"] [cost=276.366ms]
[2022/04/24 22:55:57.644 +08:00] [INFO] [table.go:727] ["get oracle db character and version finished"] [schema=MARVIN] ["db version"=11.2.0.1.0] ["db character"=AMERICAN_AMERICA.AL32UTF8] ["table totals"=5] ["table collation"=false] [cost=462.197667ms]
[2022/04/24 22:55:58.361 +08:00] [INFO] [table.go:766] ["get oracle table type finished"] [schema=MARVIN] ["db version"=11.2.0.1.0] ["db character"=AMERICAN_AMERICA.AL32UTF8] ["table totals"=5] ["table collation"=false] [cost=716.755125ms]
[2022/04/24 22:55:58.362 +08:00] [INFO] [table.go:833] ["gen oracle slice table finished"] [schema=MARVIN] ["table totals"=5] ["table gens"=5] [cost=773µs]
[2022/04/24 22:55:58.362 +08:00] [INFO] [table.go:664] ["load oracle table list finished"] [schema=MARVIN] ["table totals"=5] ["table gens"=5] [cost=2.155592333s]
[2022/04/24 22:55:58.593 +08:00] [INFO] [write.go:317] ["output oracle to mysql schema create sql"] [schema=MARVIN] [cost=230.498542ms]
[2022/04/24 22:55:58.594 +08:00] [INFO] [write.go:364] ["output oracle to mysql compatibility tips"] [schema=MARVIN] [cost=3.458µs]
[2022/04/24 22:56:01.439 +08:00] [INFO] [table.go:117] ["reverse oracle table struct"] [schema=MARVIN] [table=MARVIN8] [comment=] [columns="[\"`ID` DECIMAL(65,30) NOT NULL\",\"`BIRTHDAY` TIMESTAMP(6)\"]"] [pk="[\"PRIMARY KEY (`ID`)\"]"] ["create sql"="CREATE TABLE `STEVEN`.`MARVIN8` (\n`ID` DECIMAL(65,30) NOT NULL,\n`BIRTHDAY` TIMESTAMP(6),\nPRIMARY KEY (`ID`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/04/24 22:56:01.464 +08:00] [INFO] [table.go:117] ["reverse oracle table struct"] [schema=MARVIN] [table=MARVIN9] [comment=] [columns="[\"`ID` DECIMAL(65,30) NOT NULL\",\"`BIRTHDAY` TIMESTAMP(2)\"]"] [pk="[\"PRIMARY KEY (`ID`)\"]"] ["create sql"="CREATE TABLE `STEVEN`.`MARVIN9` (\n`ID` DECIMAL(65,30) NOT NULL,\n`BIRTHDAY` TIMESTAMP(2),\nPRIMARY KEY (`ID`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/04/24 22:56:01.464 +08:00] [INFO] [table.go:117] ["reverse oracle table struct"] [schema=MARVIN] [table=MARVIN5] [comment=] [columns="[\"`ID` DECIMAL(65,30) NOT NULL\",\"`BIRTHDAY` TIMESTAMP(6)\"]"] [pk="[\"PRIMARY KEY (`ID`)\"]"] ["create sql"="CREATE TABLE `STEVEN`.`MARVIN5` (\n`ID` DECIMAL(65,30) NOT NULL,\n`BIRTHDAY` TIMESTAMP(6),\nPRIMARY KEY (`ID`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/04/24 22:56:01.556 +08:00] [INFO] [table.go:117] ["reverse oracle table struct"] [schema=MARVIN] [table=MARVIN6] [comment=] [columns="[\"`ID` DECIMAL(65,30) NOT NULL\",\"`BIRTHDAY` DATETIME\"]"] [pk="[\"PRIMARY KEY (`ID`)\"]"] ["create sql"="CREATE TABLE `STEVEN`.`MARVIN6` (\n`ID` DECIMAL(65,30) NOT NULL,\n`BIRTHDAY` DATETIME,\nPRIMARY KEY (`ID`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/04/24 22:56:01.571 +08:00] [INFO] [table.go:117] ["reverse oracle table struct"] [schema=MARVIN] [table=MARVIN7] [comment=] [columns="[\"`ID` DECIMAL(65,30) NOT NULL\",\"`BIRTHDAY` TIMESTAMP(6)\"]"] [pk="[\"PRIMARY KEY (`ID`)\"]"] ["create sql"="CREATE TABLE `STEVEN`.`MARVIN7` (\n`ID` DECIMAL(65,30) NOT NULL,\n`BIRTHDAY` TIMESTAMP(6),\nPRIMARY KEY (`ID`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/04/24 22:56:04.266 +08:00] [INFO] [reverser.go:195] [reverse] ["create table and index output"=/Users/marvin/gostore/transferdb/reverse_marvin.sql]
[2022/04/24 22:56:04.267 +08:00] [INFO] [reverser.go:197] [compatibility] ["maybe exist compatibility output"=/Users/marvin/gostore/transferdb/compatibility_marvin.sql]
[2022/04/24 22:56:04.267 +08:00] [INFO] [reverser.go:200] ["reverse table oracle to mysql finished"] ["table totals"=5] ["table success"=5] ["table failed"=0] [cost=8.898497375s]
[2022/04/24 22:56:36.023 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 22:56:36.024 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin1\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 22:56:41.057 +08:00] [INFO] [reverser.go:35] ["reverse table oracle to mysql start"] [schema=marvin]
[2022/04/24 22:56:41.358 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="oracle include-tables values [[MARVIN1]] isn't exist in the db schema [marvin]"] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/24 22:57:04.103 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 22:57:04.103 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin2\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 22:57:09.737 +08:00] [INFO] [reverser.go:35] ["reverse table oracle to mysql start"] [schema=marvin]
[2022/04/24 22:57:10.031 +08:00] [INFO] [config.go:177] ["get oracle to mysql all tables"] [schema=marvin] [tables="[marvin2]"] [cost=293.854667ms]
[2022/04/24 22:57:11.989 +08:00] [INFO] [table.go:727] ["get oracle db character and version finished"] [schema=MARVIN] ["db version"=11.2.0.1.0] ["db character"=AMERICAN_AMERICA.AL32UTF8] ["table totals"=1] ["table collation"=false] [cost=472.866791ms]
[2022/04/24 22:57:12.443 +08:00] [INFO] [table.go:766] ["get oracle table type finished"] [schema=MARVIN] ["db version"=11.2.0.1.0] ["db character"=AMERICAN_AMERICA.AL32UTF8] ["table totals"=1] ["table collation"=false] [cost=453.979708ms]
[2022/04/24 22:57:12.446 +08:00] [INFO] [table.go:833] ["gen oracle slice table finished"] [schema=MARVIN] ["table totals"=1] ["table gens"=1] [cost=2.4325ms]
[2022/04/24 22:57:12.447 +08:00] [INFO] [table.go:664] ["load oracle table list finished"] [schema=MARVIN] ["table totals"=1] ["table gens"=1] [cost=1.8510535s]
[2022/04/24 22:57:12.688 +08:00] [INFO] [write.go:317] ["output oracle to mysql schema create sql"] [schema=MARVIN] [cost=240.014666ms]
[2022/04/24 22:57:12.688 +08:00] [INFO] [write.go:364] ["output oracle to mysql compatibility tips"] [schema=MARVIN] [cost=3.416µs]
[2022/04/24 22:57:24.849 +08:00] [INFO] [table.go:117] ["reverse oracle table struct"] [schema=MARVIN] [table=MARVIN2] [comment=] [columns="[\"`N1` DECIMAL(65,30) NOT NULL\",\"`N2` TINYINT\",\"`N3` SMALLINT\",\"`N4` INT\",\"`N5` BIGINT\",\"`N6` BIGINT\",\"`N7` DECIMAL(30)\",\"`N8` DECIMAL(30,2)\",\"`N9` DECIMAL(10,2)\",\"`N10` BIGINT\",\"`NBFILE` VARCHAR(255)\",\"`VCHAR1` VARCHAR(10)\",\"`VCHAR2` VARCHAR(3000)\",\"`VCHAR3` VARCHAR(10)\",\"`VCHAR4` VARCHAR(3000)\",\"`CHAR1` CHAR(23)\",\"`CHAR2` VARCHAR(300)\",\"`CHAR3` CHAR(23)\",\"`CHAR4` VARCHAR(300)\",\"`CHAR5` NCHAR(46)\",\"`CHAR6` NVARCHAR(600)\",\"`CHAR7` NVARCHAR(20)\",\"`CHAR8` NVARCHAR(600)\",\"`CHAR9` NVARCHAR(20)\",\"`CHAR10` NVARCHAR(600)\",\"`DLOB` LONGTEXT\",\"`CFLOB` TEXT\",\"`NDATE` DATETIME\",\"`NDECIMAL1` DECIMAL(65,30)\",\"`NDECIMAL2` DECIMAL(10,2)\",\"`NDECIMAL3` DECIMAL(10,2)\",\"`NDECIMAL4` DECIMAL(65,30)\",\"`DP1` DOUBLE\",\"`FP1` DOUBLE\",\"`FP2` DOUBLE\",\"`FY2` DECIMAL(65,30)\",\"`FY4` DECIMAL(65,30)\",\"`FY5` DECIMAL(65,30)\",\"`YT` VARCHAR(30)\",\"`YU` VARCHAR(30)\",\"`HP` LONGBLOB\",\"`RW1` BINARY(10)\",\"`RW2` VARBINARY(300)\",\"`RL` DOUBLE\",\"`RD1` CHAR(10)\",\"`RD2` VARCHAR(100)\",\"`TP1` TIMESTAMP(6)\",\"`TP2` TIMESTAMP(3)\",\"`TP3` TIMESTAMP(5)\",\"`TP4` DATETIME(5)\",\"`XT` LONGTEXT\"]"] [pk="[\"PRIMARY KEY (`N1`)\"]"] ["create sql"="CREATE TABLE `STEVEN`.`MARVIN2` (\n`N1` DECIMAL(65,30) NOT NULL,\n`N2` TINYINT,\n`N3` SMALLINT,\n`N4` INT,\n`N5` BIGINT,\n`N6` BIGINT,\n`N7` DECIMAL(30),\n`N8` DECIMAL(30,2),\n`N9` DECIMAL(10,2),\n`N10` BIGINT,\n`NBFILE` VARCHAR(255),\n`VCHAR1` VARCHAR(10),\n`VCHAR2` VARCHAR(3000),\n`VCHAR3` VARCHAR(10),\n`VCHAR4` VARCHAR(3000),\n`CHAR1` CHAR(23),\n`CHAR2` VARCHAR(300),\n`CHAR3` CHAR(23),\n`CHAR4` VARCHAR(300),\n`CHAR5` NCHAR(46),\n`CHAR6` NVARCHAR(600),\n`CHAR7` NVARCHAR(20),\n`CHAR8` NVARCHAR(600),\n`CHAR9` NVARCHAR(20),\n`CHAR10` NVARCHAR(600),\n`DLOB` LONGTEXT,\n`CFLOB` TEXT,\n`NDATE` DATETIME,\n`NDECIMAL1` DECIMAL(65,30),\n`NDECIMAL2` DECIMAL(10,2),\n`NDECIMAL3` DECIMAL(10,2),\n`NDECIMAL4` DECIMAL(65,30),\n`DP1` DOUBLE,\n`FP1` DOUBLE,\n`FP2` DOUBLE,\n`FY2` DECIMAL(65,30),\n`FY4` DECIMAL(65,30),\n`FY5` DECIMAL(65,30),\n`YT` VARCHAR(30),\n`YU` VARCHAR(30),\n`HP` LONGBLOB,\n`RW1` BINARY(10),\n`RW2` VARBINARY(300),\n`RL` DOUBLE,\n`RD1` CHAR(10),\n`RD2` VARCHAR(100),\n`TP1` TIMESTAMP(6),\n`TP2` TIMESTAMP(3),\n`TP3` TIMESTAMP(5),\n`TP4` DATETIME(5),\n`XT` LONGTEXT,\nPRIMARY KEY (`N1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;"]
[2022/04/24 22:57:27.515 +08:00] [INFO] [reverser.go:195] [reverse] ["create table and index output"=/Users/marvin/gostore/transferdb/reverse_marvin.sql]
[2022/04/24 22:57:27.515 +08:00] [INFO] [reverser.go:197] [compatibility] ["maybe exist compatibility output"=/Users/marvin/gostore/transferdb/compatibility_marvin.sql]
[2022/04/24 22:57:27.515 +08:00] [INFO] [reverser.go:200] ["reverse table oracle to mysql finished"] ["table totals"=1] ["table success"=1] ["table failed"=0] [cost=17.777617208s]
[2022/04/24 22:58:44.275 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 22:58:44.275 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin5\",\"marvin6\",\"marvin7\",\"marvin8\",\"marvin9\",\"marvin2\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 22:58:49.235 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/24 22:58:51.755 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 22:58:51.755 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN6]
[2022/04/24 22:58:51.754 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN8]
[2022/04/24 22:58:51.755 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN7]
[2022/04/24 22:58:51.755 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN2]
[2022/04/24 22:58:51.754 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN9]
[2022/04/24 22:58:52.243 +08:00] [INFO] [sync_full.go:274] ["get oracle table statistics rows"] [schema=MARVIN] [table=MARVIN7] [rows=2]
[2022/04/24 22:58:52.255 +08:00] [INFO] [sync_full.go:274] ["get oracle table statistics rows"] [schema=MARVIN] [table=MARVIN6] [rows=1]
[2022/04/24 22:58:52.256 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN8] [sql="SELECT * FROM MARVIN.MARVIN8"] ["statistics rows"=0]
[2022/04/24 22:58:52.256 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN9] [sql="SELECT * FROM MARVIN.MARVIN9"] ["statistics rows"=0]
[2022/04/24 22:58:52.283 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN2] [sql="SELECT * FROM MARVIN.MARVIN2"] ["statistics rows"=0]
[2022/04/24 22:58:52.292 +08:00] [INFO] [sync_full.go:274] ["get oracle table statistics rows"] [schema=MARVIN] [table=MARVIN5] [rows=1]
[2022/04/24 22:58:52.717 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN8] [cost=964.069959ms]
[2022/04/24 22:58:52.810 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN9] [cost=1.057301709s]
[2022/04/24 22:58:52.835 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN2] [cost=1.08211725s]
[2022/04/24 22:58:53.896 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN7] [cost=2.142719875s]
[2022/04/24 22:58:53.906 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN6] [cost=2.15373125s]
[2022/04/24 22:58:54.017 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN5] [cost=2.2637365s]
[2022/04/24 22:58:54.018 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN6]
[2022/04/24 22:58:54.018 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN8]
[2022/04/24 22:58:54.018 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN9]
[2022/04/24 22:58:54.018 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN7]
[2022/04/24 22:58:54.019 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 22:58:54.018 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN2]
[2022/04/24 22:58:54.357 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7 WHERE ROWID BETWEEN 'AAASNtAAEAAAANQAAA' AND 'AAASNtAAEAAAANXCcP'"] [cost=237.625875ms]
[2022/04/24 22:58:54.358 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7 WHERE ROWID BETWEEN 'AAASNtAAEAAAANQAAA' AND 'AAASNtAAEAAAANXCcP'"]
[2022/04/24 22:58:54.397 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6 WHERE ROWID BETWEEN 'AAASNrAAEAAAANAAAA' AND 'AAASNrAAEAAAANHCcP'"] [cost=236.858333ms]
[2022/04/24 22:58:54.398 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6 WHERE ROWID BETWEEN 'AAASNrAAEAAAANAAAA' AND 'AAASNrAAEAAAANHCcP'"]
[2022/04/24 22:58:54.405 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7 WHERE ROWID BETWEEN 'AAASNtAAEAAAANQAAA' AND 'AAASNtAAEAAAANXCcP'"] [cost=47.005ms]
[2022/04/24 22:58:54.447 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6 WHERE ROWID BETWEEN 'AAASNrAAEAAAANAAAA' AND 'AAASNrAAEAAAANHCcP'"] [cost=48.56175ms]
[2022/04/24 22:58:54.639 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN7] [sql="SELECT * FROM MARVIN.MARVIN7 WHERE ROWID BETWEEN 'AAASNtAAEAAAANQAAA' AND 'AAASNtAAEAAAANXCcP'"] [status=success]
[2022/04/24 22:58:54.639 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN6] [sql="SELECT * FROM MARVIN.MARVIN6 WHERE ROWID BETWEEN 'AAASNrAAEAAAANAAAA' AND 'AAASNrAAEAAAANHCcP'"] [status=success]
[2022/04/24 22:58:54.664 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN2] ["rowid sql"="SELECT * FROM MARVIN.MARVIN2"] [cost=504.521833ms]
[2022/04/24 22:58:54.665 +08:00] [WARN] [extractor.go:262] ["oracle schema table rowid data return null rows, skip"] [schema=marvin] [table=MARVIN2] [sql="SELECT * FROM MARVIN.MARVIN2"]
[2022/04/24 22:58:54.747 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN8] ["rowid sql"="SELECT * FROM MARVIN.MARVIN8"] [cost=409.581292ms]
[2022/04/24 22:58:54.748 +08:00] [WARN] [extractor.go:262] ["oracle schema table rowid data return null rows, skip"] [schema=marvin] [table=MARVIN8] [sql="SELECT * FROM MARVIN.MARVIN8"]
[2022/04/24 22:58:54.749 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN9] ["rowid sql"="SELECT * FROM MARVIN.MARVIN9"] [cost=412.294958ms]
[2022/04/24 22:58:54.749 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN9] ["rowid sql"="SELECT * FROM MARVIN.MARVIN9"]
[2022/04/24 22:58:54.749 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5 WHERE ROWID BETWEEN 'AAASNpAAEAAAAMwAAA' AND 'AAASNpAAEAAAAM3CcP'"] [cost=412.248667ms]
[2022/04/24 22:58:54.749 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5 WHERE ROWID BETWEEN 'AAASNpAAEAAAAMwAAA' AND 'AAASNpAAEAAAAM3CcP'"]
[2022/04/24 22:58:54.796 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN9] ["rowid sql"="SELECT * FROM MARVIN.MARVIN9"] [cost=47.851583ms]
[2022/04/24 22:58:54.797 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5 WHERE ROWID BETWEEN 'AAASNpAAEAAAAMwAAA' AND 'AAASNpAAEAAAAM3CcP'"] [cost=47.692083ms]
[2022/04/24 22:58:54.879 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN6] [status=success]
[2022/04/24 22:58:54.880 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN6] [cost=621.194875ms]
[2022/04/24 22:58:54.880 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN7] [status=success]
[2022/04/24 22:58:54.880 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN7] [cost=620.743416ms]
[2022/04/24 22:58:55.027 +08:00] [INFO] [sync_full.go:168] ["clear and update mysql meta"] [schema=marvin] [table=MARVIN2] [sql="SELECT * FROM MARVIN.MARVIN2"] [status=success]
[2022/04/24 22:58:55.031 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN9] [sql="SELECT * FROM MARVIN.MARVIN9"] [status=success]
[2022/04/24 22:58:55.041 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN5] [sql="SELECT * FROM MARVIN.MARVIN5 WHERE ROWID BETWEEN 'AAASNpAAEAAAAMwAAA' AND 'AAASNpAAEAAAAM3CcP'"] [status=success]
[2022/04/24 22:58:55.053 +08:00] [INFO] [sync_full.go:168] ["clear and update mysql meta"] [schema=marvin] [table=MARVIN8] [sql="SELECT * FROM MARVIN.MARVIN8"] [status=success]
[2022/04/24 22:58:55.232 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN2] [status=success]
[2022/04/24 22:58:55.233 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN2] [cost=1.009467s]
[2022/04/24 22:58:55.233 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN9] [status=success]
[2022/04/24 22:58:55.233 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN9] [cost=1.012858916s]
[2022/04/24 22:58:55.242 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN5] [status=success]
[2022/04/24 22:58:55.242 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN5] [cost=1.022498792s]
[2022/04/24 22:58:55.254 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN8] [status=success]
[2022/04/24 22:58:55.254 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN8] [cost=1.035873042s]
[2022/04/24 22:58:55.254 +08:00] [INFO] [taskflow.go:140] ["all full table data sync finished"] [schema=marvin] [cost=6.019220959s]
[2022/04/24 23:07:59.137 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 23:07:59.137 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin5\",\"marvin6\",\"marvin7\",\"marvin8\",\"marvin9\",\"marvin2\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 23:08:04.071 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/24 23:08:06.611 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN7]
[2022/04/24 23:08:06.611 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN2]
[2022/04/24 23:08:06.613 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN8]
[2022/04/24 23:08:06.611 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN6]
[2022/04/24 23:08:06.611 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN9]
[2022/04/24 23:08:06.610 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 23:08:07.096 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN2] [sql="SELECT * FROM MARVIN.MARVIN2"] ["statistics rows"=0]
[2022/04/24 23:08:07.100 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN8] [sql="SELECT * FROM MARVIN.MARVIN8"] ["statistics rows"=0]
[2022/04/24 23:08:07.142 +08:00] [INFO] [sync_full.go:274] ["get oracle table statistics rows"] [schema=MARVIN] [table=MARVIN7] [rows=2]
[2022/04/24 23:08:07.144 +08:00] [INFO] [sync_full.go:274] ["get oracle table statistics rows"] [schema=MARVIN] [table=MARVIN6] [rows=1]
[2022/04/24 23:08:07.145 +08:00] [INFO] [sync_full.go:274] ["get oracle table statistics rows"] [schema=MARVIN] [table=MARVIN5] [rows=1]
[2022/04/24 23:08:07.145 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN9] [sql="SELECT * FROM MARVIN.MARVIN9"] ["statistics rows"=0]
[2022/04/24 23:08:07.550 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN2] [cost=939.899541ms]
[2022/04/24 23:08:07.637 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN8] [cost=1.023452709s]
[2022/04/24 23:08:07.685 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN9] [cost=1.074399916s]
[2022/04/24 23:08:08.687 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN6] [cost=2.076419958s]
[2022/04/24 23:08:08.687 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN5] [cost=2.077202375s]
[2022/04/24 23:08:08.734 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN7] [cost=2.123674625s]
[2022/04/24 23:08:08.736 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN6]
[2022/04/24 23:08:08.736 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN2]
[2022/04/24 23:08:08.736 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN7]
[2022/04/24 23:08:08.736 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 23:08:08.736 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN9]
[2022/04/24 23:08:08.736 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN8]
[2022/04/24 23:08:09.068 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5 WHERE ROWID BETWEEN 'AAASNpAAEAAAAMwAAA' AND 'AAASNpAAEAAAAM3CcP'"] [cost=236.023125ms]
[2022/04/24 23:08:09.068 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5 WHERE ROWID BETWEEN 'AAASNpAAEAAAAMwAAA' AND 'AAASNpAAEAAAAM3CcP'"]
[2022/04/24 23:08:09.115 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5 WHERE ROWID BETWEEN 'AAASNpAAEAAAAMwAAA' AND 'AAASNpAAEAAAAM3CcP'"] [cost=46.937708ms]
[2022/04/24 23:08:09.252 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6 WHERE ROWID BETWEEN 'AAASNrAAEAAAANAAAA' AND 'AAASNrAAEAAAANHCcP'"] [cost=374.599333ms]
[2022/04/24 23:08:09.252 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6 WHERE ROWID BETWEEN 'AAASNrAAEAAAANAAAA' AND 'AAASNrAAEAAAANHCcP'"]
[2022/04/24 23:08:09.297 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6 WHERE ROWID BETWEEN 'AAASNrAAEAAAANAAAA' AND 'AAASNrAAEAAAANHCcP'"] [cost=44.837375ms]
[2022/04/24 23:08:09.344 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN5] [sql="SELECT * FROM MARVIN.MARVIN5 WHERE ROWID BETWEEN 'AAASNpAAEAAAAMwAAA' AND 'AAASNpAAEAAAAM3CcP'"] [status=success]
[2022/04/24 23:08:09.346 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN2] ["rowid sql"="SELECT * FROM MARVIN.MARVIN2"] [cost=468.2835ms]
[2022/04/24 23:08:09.346 +08:00] [WARN] [extractor.go:262] ["oracle schema table rowid data return null rows, skip"] [schema=marvin] [table=MARVIN2] [sql="SELECT * FROM MARVIN.MARVIN2"]
[2022/04/24 23:08:09.431 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7 WHERE ROWID BETWEEN 'AAASNtAAEAAAANQAAA' AND 'AAASNtAAEAAAANXCcP'"] [cost=369.735166ms]
[2022/04/24 23:08:09.431 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7 WHERE ROWID BETWEEN 'AAASNtAAEAAAANQAAA' AND 'AAASNtAAEAAAANXCcP'"]
[2022/04/24 23:08:09.431 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN8] ["rowid sql"="SELECT * FROM MARVIN.MARVIN8"] [cost=372.227292ms]
[2022/04/24 23:08:09.432 +08:00] [WARN] [extractor.go:262] ["oracle schema table rowid data return null rows, skip"] [schema=marvin] [table=MARVIN8] [sql="SELECT * FROM MARVIN.MARVIN8"]
[2022/04/24 23:08:09.433 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN9] ["rowid sql"="SELECT * FROM MARVIN.MARVIN9"] [cost=371.867709ms]
[2022/04/24 23:08:09.433 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN9] ["rowid sql"="SELECT * FROM MARVIN.MARVIN9"]
[2022/04/24 23:08:09.478 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN9] ["rowid sql"="SELECT * FROM MARVIN.MARVIN9"] [cost=44.974541ms]
[2022/04/24 23:08:09.478 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7 WHERE ROWID BETWEEN 'AAASNtAAEAAAANQAAA' AND 'AAASNtAAEAAAANXCcP'"] [cost=46.280833ms]
[2022/04/24 23:08:09.480 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN6] [sql="SELECT * FROM MARVIN.MARVIN6 WHERE ROWID BETWEEN 'AAASNrAAEAAAANAAAA' AND 'AAASNrAAEAAAANHCcP'"] [status=success]
[2022/04/24 23:08:09.575 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN5] [status=success]
[2022/04/24 23:08:09.575 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN5] [cost=608.291667ms]
[2022/04/24 23:08:09.670 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN6] [status=success]
[2022/04/24 23:08:09.670 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN6] [cost=744.907792ms]
[2022/04/24 23:08:09.674 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN7] [sql="SELECT * FROM MARVIN.MARVIN7 WHERE ROWID BETWEEN 'AAASNtAAEAAAANQAAA' AND 'AAASNtAAEAAAANXCcP'"] [status=success]
[2022/04/24 23:08:09.674 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN9] [sql="SELECT * FROM MARVIN.MARVIN9"] [status=success]
[2022/04/24 23:08:09.675 +08:00] [INFO] [sync_full.go:168] ["clear and update mysql meta"] [schema=marvin] [table=MARVIN2] [sql="SELECT * FROM MARVIN.MARVIN2"] [status=success]
[2022/04/24 23:08:09.717 +08:00] [INFO] [sync_full.go:168] ["clear and update mysql meta"] [schema=marvin] [table=MARVIN8] [sql="SELECT * FROM MARVIN.MARVIN8"] [status=success]
[2022/04/24 23:08:09.865 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN9] [status=success]
[2022/04/24 23:08:09.865 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN9] [cost=938.591291ms]
[2022/04/24 23:08:09.865 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN7] [status=success]
[2022/04/24 23:08:09.865 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN7] [cost=938.638167ms]
[2022/04/24 23:08:09.865 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN2] [status=success]
[2022/04/24 23:08:09.865 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN2] [cost=938.984625ms]
[2022/04/24 23:08:09.902 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN8] [status=success]
[2022/04/24 23:08:09.903 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN8] [cost=981.464584ms]
[2022/04/24 23:08:09.903 +08:00] [INFO] [taskflow.go:140] ["all full table data sync finished"] [schema=marvin] [cost=5.832227458s]
[2022/04/24 23:08:32.236 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/24 23:08:32.237 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin5\",\"marvin6\",\"marvin7\",\"marvin8\",\"marvin9\",\"marvin2\",\"marvin10\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/24 23:08:37.117 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/24 23:08:39.847 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN7]
[2022/04/24 23:08:39.848 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN10]
[2022/04/24 23:08:39.847 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN9]
[2022/04/24 23:08:39.848 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN6]
[2022/04/24 23:08:39.848 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN2]
[2022/04/24 23:08:39.849 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN8]
[2022/04/24 23:08:39.848 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 23:08:40.333 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN9] [sql="SELECT * FROM MARVIN.MARVIN9"] ["statistics rows"=0]
[2022/04/24 23:08:40.333 +08:00] [INFO] [sync_full.go:274] ["get oracle table statistics rows"] [schema=MARVIN] [table=MARVIN6] [rows=1]
[2022/04/24 23:08:40.334 +08:00] [INFO] [sync_full.go:274] ["get oracle table statistics rows"] [schema=MARVIN] [table=MARVIN5] [rows=1]
[2022/04/24 23:08:40.334 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN8] [sql="SELECT * FROM MARVIN.MARVIN8"] ["statistics rows"=0]
[2022/04/24 23:08:40.335 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN2] [sql="SELECT * FROM MARVIN.MARVIN2"] ["statistics rows"=0]
[2022/04/24 23:08:40.367 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN10] [sql="SELECT * FROM MARVIN.MARVIN10"] ["statistics rows"=0]
[2022/04/24 23:08:40.383 +08:00] [INFO] [sync_full.go:274] ["get oracle table statistics rows"] [schema=MARVIN] [table=MARVIN7] [rows=2]
[2022/04/24 23:08:40.788 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN9] [cost=940.583083ms]
[2022/04/24 23:08:40.872 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN8] [cost=1.024823792s]
[2022/04/24 23:08:40.876 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN2] [cost=1.028127625s]
[2022/04/24 23:08:40.904 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN10] [cost=1.056623833s]
[2022/04/24 23:08:41.852 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN5] [cost=2.003719792s]
[2022/04/24 23:08:41.860 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN6] [cost=2.012420459s]
[2022/04/24 23:08:41.943 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN7] [cost=2.09607075s]
[2022/04/24 23:08:41.945 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN2]
[2022/04/24 23:08:41.945 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN6]
[2022/04/24 23:08:41.945 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN7]
[2022/04/24 23:08:41.945 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN10]
[2022/04/24 23:08:41.946 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN9]
[2022/04/24 23:08:41.946 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN8]
[2022/04/24 23:08:41.945 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN5]
[2022/04/24 23:08:42.284 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7 WHERE ROWID BETWEEN 'AAASNtAAEAAAANQAAA' AND 'AAASNtAAEAAAANXCcP'"] [cost=238.429167ms]
[2022/04/24 23:08:42.285 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7 WHERE ROWID BETWEEN 'AAASNtAAEAAAANQAAA' AND 'AAASNtAAEAAAANXCcP'"]
[2022/04/24 23:08:42.334 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN7] ["rowid sql"="SELECT * FROM MARVIN.MARVIN7 WHERE ROWID BETWEEN 'AAASNtAAEAAAANQAAA' AND 'AAASNtAAEAAAANXCcP'"] [cost=49.189958ms]
[2022/04/24 23:08:42.335 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5 WHERE ROWID BETWEEN 'AAASNpAAEAAAAMwAAA' AND 'AAASNpAAEAAAAM3CcP'"] [cost=241.71625ms]
[2022/04/24 23:08:42.335 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN8] ["rowid sql"="SELECT * FROM MARVIN.MARVIN8"] [cost=242.157875ms]
[2022/04/24 23:08:42.335 +08:00] [WARN] [extractor.go:262] ["oracle schema table rowid data return null rows, skip"] [schema=marvin] [table=MARVIN8] [sql="SELECT * FROM MARVIN.MARVIN8"]
[2022/04/24 23:08:42.335 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5 WHERE ROWID BETWEEN 'AAASNpAAEAAAAMwAAA' AND 'AAASNpAAEAAAAM3CcP'"]
[2022/04/24 23:08:42.381 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN5] ["rowid sql"="SELECT * FROM MARVIN.MARVIN5 WHERE ROWID BETWEEN 'AAASNpAAEAAAAMwAAA' AND 'AAASNpAAEAAAAM3CcP'"] [cost=46.534917ms]
[2022/04/24 23:08:42.564 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN7] [sql="SELECT * FROM MARVIN.MARVIN7 WHERE ROWID BETWEEN 'AAASNtAAEAAAANQAAA' AND 'AAASNtAAEAAAANXCcP'"] [status=success]
[2022/04/24 23:08:42.564 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN5] [sql="SELECT * FROM MARVIN.MARVIN5 WHERE ROWID BETWEEN 'AAASNpAAEAAAAMwAAA' AND 'AAASNpAAEAAAAM3CcP'"] [status=success]
[2022/04/24 23:08:42.574 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN2] ["rowid sql"="SELECT * FROM MARVIN.MARVIN2"] [cost=480.4965ms]
[2022/04/24 23:08:42.574 +08:00] [WARN] [extractor.go:262] ["oracle schema table rowid data return null rows, skip"] [schema=marvin] [table=MARVIN2] [sql="SELECT * FROM MARVIN.MARVIN2"]
[2022/04/24 23:08:42.655 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN9] ["rowid sql"="SELECT * FROM MARVIN.MARVIN9"] [cost=390.342958ms]
[2022/04/24 23:08:42.655 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN9] ["rowid sql"="SELECT * FROM MARVIN.MARVIN9"]
[2022/04/24 23:08:42.656 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6 WHERE ROWID BETWEEN 'AAASNrAAEAAAANAAAA' AND 'AAASNrAAEAAAANHCcP'"] [cost=391.111417ms]
[2022/04/24 23:08:42.656 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6 WHERE ROWID BETWEEN 'AAASNrAAEAAAANAAAA' AND 'AAASNrAAEAAAANHCcP'"]
[2022/04/24 23:08:42.660 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN10] ["rowid sql"="SELECT * FROM MARVIN.MARVIN10"] [cost=394.747958ms]
[2022/04/24 23:08:42.660 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN10] ["rowid sql"="SELECT * FROM MARVIN.MARVIN10"]
[2022/04/24 23:08:42.701 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN6] ["rowid sql"="SELECT * FROM MARVIN.MARVIN6 WHERE ROWID BETWEEN 'AAASNrAAEAAAANAAAA' AND 'AAASNrAAEAAAANHCcP'"] [cost=45.127375ms]
[2022/04/24 23:08:42.701 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN9] ["rowid sql"="SELECT * FROM MARVIN.MARVIN9"] [cost=45.678458ms]
[2022/04/24 23:08:42.701 +08:00] [INFO] [sync_full.go:168] ["clear and update mysql meta"] [schema=marvin] [table=MARVIN8] [sql="SELECT * FROM MARVIN.MARVIN8"] [status=success]
[2022/04/24 23:08:42.711 +08:00] [INFO] [applier.go:49] ["single full table rowid data applier finished"] [schema=steven] [table=MARVIN10] ["rowid sql"="SELECT * FROM MARVIN.MARVIN10"] [cost=50.897458ms]
[2022/04/24 23:08:42.797 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN5] [status=success]
[2022/04/24 23:08:42.797 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN5] [cost=618.935166ms]
[2022/04/24 23:08:42.798 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN7] [status=success]
[2022/04/24 23:08:42.798 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN7] [cost=618.426167ms]
[2022/04/24 23:08:42.890 +08:00] [INFO] [sync_full.go:168] ["clear and update mysql meta"] [schema=marvin] [table=MARVIN2] [sql="SELECT * FROM MARVIN.MARVIN2"] [status=success]
[2022/04/24 23:08:42.890 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN6] [sql="SELECT * FROM MARVIN.MARVIN6 WHERE ROWID BETWEEN 'AAASNrAAEAAAANAAAA' AND 'AAASNrAAEAAAANHCcP'"] [status=success]
[2022/04/24 23:08:42.890 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN9] [sql="SELECT * FROM MARVIN.MARVIN9"] [status=success]
[2022/04/24 23:08:42.892 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN8] [status=success]
[2022/04/24 23:08:42.892 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN8] [cost=755.728458ms]
[2022/04/24 23:08:42.896 +08:00] [INFO] [sync_full.go:103] ["clear mysql [full_sync_meta] meta"] [schema=marvin] [table=MARVIN10] [sql="SELECT * FROM MARVIN.MARVIN10"] [status=success]
[2022/04/24 23:08:43.078 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN9] [status=success]
[2022/04/24 23:08:43.078 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN9] [cost=945.089708ms]
[2022/04/24 23:08:43.079 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN6] [status=success]
[2022/04/24 23:08:43.080 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN6] [cost=945.167375ms]
[2022/04/24 23:08:43.080 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN10] [status=success]
[2022/04/24 23:08:43.080 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN2] [status=success]
[2022/04/24 23:08:43.080 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN2] [cost=945.072833ms]
[2022/04/24 23:08:43.080 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN10] [cost=951.036875ms]
[2022/04/24 23:08:43.081 +08:00] [INFO] [taskflow.go:140] ["all full table data sync finished"] [schema=marvin] [cost=5.963584833s]
[2022/04/26 22:05:10.423 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 22:05:10.423 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin5\",\"marvin6\",\"marvin7\",\"marvin8\",\"marvin9\",\"marvin2\",\"marvin10\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 22:05:15.324 +08:00] [ERROR] [server.go:136] ["failed to initialize database, got error Error 1045: Access denied for user 'marvin'@'10.9.85.48' (using password: YES)"]
[2022/04/26 22:05:15.325 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="error on initializing mysql database connection [meta-schema]: Error 1045: Access denied for user 'marvin'@'10.9.85.48' (using password: YES)"] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/26 22:05:45.034 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 22:05:45.035 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin5\",\"marvin6\",\"marvin7\",\"marvin8\",\"marvin9\",\"marvin2\",\"marvin10\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 22:05:45.168 +08:00] [ERROR] [server.go:54] ["failed to initialize database, got error Error 1045: Access denied for user 'marvin'@'10.9.85.48' (using password: YES)"]
[2022/04/26 22:05:45.168 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="error on initializing mysql database connection [no-schema]: Error 1045: Access denied for user 'marvin'@'10.9.85.48' (using password: YES)"] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/26 22:06:34.708 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 22:06:34.709 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin5\",\"marvin6\",\"marvin7\",\"marvin8\",\"marvin9\",\"marvin2\",\"marvin10\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 22:06:35.323 +08:00] [INFO] [prepare.go:30] ["prepare tansferdb env start"]
[2022/04/26 22:06:38.344 +08:00] [INFO] [prepare.go:38] ["prepare tansferdb env finished"] [cost=3.020433542s]
[2022/04/26 22:19:12.527 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 22:19:12.527 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin11\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 22:19:17.365 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/26 22:19:18.879 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 22:19:19.397 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN11] [sql="SELECT * FROM MARVIN.MARVIN11"] ["statistics rows"=0]
[2022/04/26 22:19:19.853 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN11] [cost=974.183125ms]
[2022/04/26 22:19:19.854 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 22:19:20.216 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"] [cost=269.537125ms]
[2022/04/26 22:19:20.216 +08:00] [WARN] [extractor.go:262] ["oracle schema table rowid data return null rows, skip"] [schema=marvin] [table=MARVIN11] [sql="SELECT * FROM MARVIN.MARVIN11"]
[2022/04/26 22:19:20.586 +08:00] [INFO] [sync_full.go:168] ["clear and update mysql meta"] [schema=marvin] [table=MARVIN11] [sql="SELECT * FROM MARVIN.MARVIN11"] [status=success]
[2022/04/26 22:19:20.812 +08:00] [INFO] [sync_full.go:133] ["update mysql [wait_sync_meta] meta"] [schema=marvin] [table=MARVIN11] [status=success]
[2022/04/26 22:19:20.812 +08:00] [INFO] [extractor.go:324] ["single full table data loader finished"] [schema=marvin] [table=MARVIN11] [cost=732.840542ms]
[2022/04/26 22:19:20.813 +08:00] [INFO] [taskflow.go:140] ["all full table data sync finished"] [schema=marvin] [cost=3.447257334s]
[2022/04/26 22:21:13.208 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 22:21:13.208 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin11\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 22:21:18.220 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/26 22:21:19.318 +08:00] [INFO] [taskflow.go:113] ["all full table data sync finished"] [schema=marvin] [cost=1.098064583s]
[2022/04/26 22:21:42.320 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 22:21:42.320 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin11\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 22:21:47.083 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/26 22:21:48.397 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 22:21:48.906 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN11] [sql="SELECT * FROM MARVIN.MARVIN11"] ["statistics rows"=0]
[2022/04/26 22:21:49.344 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN11] [cost=947.408417ms]
[2022/04/26 22:21:49.345 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 22:21:49.716 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"] [cost=280.696334ms]
[2022/04/26 22:21:49.717 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"]
[2022/04/26 22:21:49.764 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: single full table [steven.MARVIN11] data concurrency bulk insert mysql falied: single full table [steven.MARVIN11] sql [REPLACE INTO steven.MARVIN11 (ID,YT,YU,RW2,RL,FLK,RD1,RD2,TP1,TP2) VALUES (1,NULL,NULL,'[230 152 175 228 189 160 231 154 132]',180,'你好',NULL,NULL)] data bulk insert mysql falied: Error 1146: Table 'steven.MARVIN11' doesn't exist"] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/26 22:26:07.815 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 22:26:07.815 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin11\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 22:26:12.633 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/26 22:26:13.972 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 22:26:14.471 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN11] [sql="SELECT * FROM MARVIN.MARVIN11"] ["statistics rows"=0]
[2022/04/26 22:26:14.934 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN11] [cost=962.762708ms]
[2022/04/26 22:26:14.935 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 22:26:15.302 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"] [cost=269.700916ms]
[2022/04/26 22:26:15.302 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"] [cost=269.638042ms]
[2022/04/26 22:26:15.303 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"]
[2022/04/26 22:26:15.303 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"]
[2022/04/26 22:26:15.516 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: single full table [steven.MARVIN11] data concurrency bulk insert mysql falied: single full table [steven.MARVIN11] sql [REPLACE INTO steven.MARVIN11 (ID,YT,YU,RW2,RL,FLK,RD1,RD2,TP1,TP2) VALUES (1,NULL,NULL,'%!v(MISSING)',180,'你好',NULL,NULL)] data bulk insert mysql falied: Error 1146: Table 'steven.MARVIN11' doesn't exist"] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/26 22:27:47.084 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 22:27:47.085 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin11\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 22:27:51.921 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/26 22:27:53.244 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 22:27:53.751 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN11] [sql="SELECT * FROM MARVIN.MARVIN11"] ["statistics rows"=0]
[2022/04/26 22:27:54.245 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN11] [cost=1.001767s]
[2022/04/26 22:27:54.247 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 22:27:54.720 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"] [cost=352.794ms]
[2022/04/26 22:27:54.720 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"] [cost=352.874667ms]
[2022/04/26 22:27:54.721 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"] [cost=353.115958ms]
[2022/04/26 22:27:54.721 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"]
[2022/04/26 22:27:54.721 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"]
[2022/04/26 22:27:54.721 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"]
[2022/04/26 22:27:54.993 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: single full table [steven.MARVIN11] data concurrency bulk insert mysql falied: single full table [steven.MARVIN11] sql [REPLACE INTO steven.MARVIN11 (ID,YT,YU,RW2,RL,FLK,RD1,RD2,TP1,TP2) VALUES (1,NULL,NULL,'%!v(MISSING)',180,'你好',NULL,NULL)] data bulk insert mysql falied: Error 1146: Table 'steven.MARVIN11' doesn't exist"] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/26 22:45:40.728 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 22:45:40.728 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin11\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 22:45:45.875 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/26 22:45:47.214 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 22:45:47.733 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN11] [sql="SELECT * FROM MARVIN.MARVIN11"] ["statistics rows"=0]
[2022/04/26 22:45:48.221 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN11] [cost=1.007575375s]
[2022/04/26 22:45:48.224 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 22:45:48.619 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"] [cost=291.52175ms]
[2022/04/26 22:45:48.620 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"]
[2022/04/26 22:45:48.620 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"] [cost=292.629875ms]
[2022/04/26 22:45:48.620 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"]
[2022/04/26 22:45:48.620 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"] [cost=292.606583ms]
[2022/04/26 22:45:48.620 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"]
[2022/04/26 22:45:48.620 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"] [cost=293.113041ms]
[2022/04/26 22:45:48.620 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"]
[2022/04/26 22:45:48.836 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: single full table [steven.MARVIN11] data concurrency bulk insert mysql falied: single full table [steven.MARVIN11] sql [REPLACE INTO steven.MARVIN11 (ID,YT,YU,RW2,RL,FLK,RD1,RD2,TP1,TP2) VALUES (1,NULL,'%!v(MISSING)',180,'你好',NULL,NULL),(1.00230404,'31-4','%!v(MISSING)',180,'你好',NULL,NULL)] data bulk insert mysql falied: Error 1146: Table 'steven.MARVIN11' doesn't exist"] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/26 22:47:14.696 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 22:47:14.696 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\\u0026timezone=Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin11\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 22:47:20.007 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/26 22:47:21.722 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 22:47:22.228 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN11] [sql="SELECT * FROM MARVIN.MARVIN11"] ["statistics rows"=0]
[2022/04/26 22:47:22.735 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN11] [cost=1.013851125s]
[2022/04/26 22:47:22.736 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 22:47:23.133 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"] [cost=280.677708ms]
[2022/04/26 22:47:23.133 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"]
[2022/04/26 22:47:23.133 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"] [cost=280.807833ms]
[2022/04/26 22:47:23.133 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"] [cost=280.965541ms]
[2022/04/26 22:47:23.133 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"] [cost=280.778708ms]
[2022/04/26 22:47:23.133 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"]
[2022/04/26 22:47:23.133 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"]
[2022/04/26 22:47:23.133 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"]
[2022/04/26 22:47:23.133 +08:00] [INFO] [extractor.go:42] ["single full table rowid data extractor finished"] [schema=marvin] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"] [cost=280.6865ms]
[2022/04/26 22:47:23.134 +08:00] [INFO] [applier.go:34] ["single full table rowid data applier start"] [schema=steven] [table=MARVIN11] ["rowid sql"="SELECT * FROM MARVIN.MARVIN11"]
[2022/04/26 22:47:23.352 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: single full table [steven.MARVIN11] data concurrency bulk insert mysql falied: single full table [steven.MARVIN11] sql [REPLACE INTO steven.MARVIN11 (ID,YT,YU,RW2,RL,FLK,RD1,RD2,TP1,TP2) VALUES (1,NULL,'432010000000000','是你的',180,'你好',NULL,NULL),(1.00230404,'31-4','432010000000000','是你的',180,'你好',NULL,NULL)] data bulk insert mysql falied: Error 1146: Table 'steven.MARVIN11' doesn't exist"] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/26 23:07:51.531 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 23:07:51.532 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\",\"timezone\":\"Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin11\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 23:07:56.485 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/26 23:07:57.811 +08:00] [INFO] [extractor.go:181] ["single full table init scn start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 23:07:58.300 +08:00] [WARN] [sync_full.go:239] ["get oracle table rows"] [schema=MARVIN] [table=MARVIN11] [sql="SELECT * FROM MARVIN.MARVIN11"] ["statistics rows"=0]
[2022/04/26 23:07:58.737 +08:00] [INFO] [extractor.go:198] ["single full table init scn finished"] [schema=marvin] [table=MARVIN11] [cost=926.106375ms]
[2022/04/26 23:07:58.737 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 23:07:59.109 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: get oracle schema [marvin] table [MARVIN11] record by rowid sql falied: parsing time \"2022-04-26T22:18:53+08:00\" as \"2006-01-02T15:04:05.000000+08:00\": cannot parse \"+08:00\" as \".000000\""] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/26 23:10:40.138 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 23:10:40.139 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\",\"timezone\":\"Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin11\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 23:10:45.174 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/26 23:10:46.535 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 23:10:46.939 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: get oracle schema [marvin] table [MARVIN11] record by rowid sql falied: parsing time \"2022-04-26T22:18:53+08:00\": extra text: \"+08:00\""] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/26 23:11:42.432 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 23:11:42.432 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\",\"timezone\":\"Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin11\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\\u0026parseTime=True\\u0026loc=Local\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 23:11:47.363 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/26 23:11:48.540 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 23:11:48.918 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: get oracle schema [marvin] table [MARVIN11] record by rowid sql falied: parsing time \"2022-04-26T22:18:53+08:00\": extra text: \"+08:00\""] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/26 23:12:53.904 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 23:12:53.904 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\",\"timezone\":\"Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin11\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\\u0026parseTime=True\\u0026loc=Local\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 23:12:58.730 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/26 23:12:59.942 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 23:13:00.326 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: get oracle schema [marvin] table [MARVIN11] record by rowid sql falied: parsing time \"2022-04-26T22:18:53+08:00\" as \"2006-01-02T15:04:05+8:00\": cannot parse \"08:00\" as \"+8:00\""] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/26 23:13:43.408 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 23:13:43.408 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\",\"timezone\":\"Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin11\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\\u0026parseTime=True\\u0026loc=Local\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 23:13:48.442 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/26 23:13:49.597 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 23:13:49.999 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: get oracle schema [marvin] table [MARVIN11] record by rowid sql falied: parsing time \"2022-04-26T22:18:53+08:00\" as \"2006-01-02T15:04:05.000000\": cannot parse \"+08:00\" as \".000000\""] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/26 23:14:19.232 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 23:14:19.233 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\",\"timezone\":\"Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin11\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\\u0026parseTime=True\\u0026loc=Local\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 23:14:23.899 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/26 23:14:25.079 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 23:14:25.458 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: get oracle schema [marvin] table [MARVIN11] record by rowid sql falied: parsing time \"2022-04-26T22:18:53+08:00\" as \"2006-01-02T15:04:05.000000\": cannot parse \"+08:00\" as \".000000\""] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/26 23:17:44.233 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 23:17:44.233 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\",\"timezone\":\"Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin11\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\\u0026parseTime=True\\u0026loc=Local\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 23:17:49.228 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/26 23:17:50.422 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 23:17:50.813 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: get oracle schema [marvin] table [MARVIN11] record by rowid sql falied: parsing time \"2022-04-26T22:18:53+08:00\" as \"2006-01-02T15:04:05.000000\": cannot parse \"+08:00\" as \".000000\""] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/26 23:20:17.841 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 23:20:17.841 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\",\"timezone\":\"Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin11\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\\u0026parseTime=True\\u0026loc=Local\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 23:20:22.657 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/26 23:20:23.815 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 23:20:24.193 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: get oracle schema [marvin] table [MARVIN11] record by rowid sql falied: parsing time \"2022-04-26T22:18:53+08:00\" as \"2006-01-02T15:04:05.000000+08:00\": cannot parse \"+08:00\" as \".000000\""] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/26 23:20:39.413 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 23:20:39.413 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\",\"timezone\":\"Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin11\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\\u0026parseTime=True\\u0026loc=Local\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 23:20:44.086 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/26 23:20:45.247 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 23:20:45.622 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: get oracle schema [marvin] table [MARVIN11] record by rowid sql falied: parsing time \"2022-04-26T22:18:53+08:00\" as \"2006-01-02T15:04:05.000000+08:00\": cannot parse \"+08:00\" as \".000000\""] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
[2022/04/26 23:29:20.340 +08:00] [INFO] [version.go:43] ["Welcome to transferdb"] ["Release Version"=None] ["Git Commit Hash"=None] ["Git Branch"=None] ["UTC Build Time"=None] ["Go Version"=go1.16.14]
[2022/04/26 23:29:20.341 +08:00] [INFO] [version.go:50] ["transferdb config"] [config="{\"app\":{\"insert-batch-size\":500,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"apply-threads\":128,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":3,\"worker-queue\":3,\"worker-threads\":3},\"source\":{\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":1521,\"service-name\":\"helowin\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"connect-params\":\"poolMinSessions=10\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=60s\\u0026poolSessionMaxLifetime=1h\\u0026poolSessionTimeout=5m\\u0026poolIncrement=10\",\"timezone\":\"Local\",\"session-params\":[\"alter session set nls_date_format = 'yyyy-mm-dd hh24:mi:ss'\",\"alter session set nls_timestamp_format = 'yyyy-mm-dd hh24:mi:ss.ff6'\"],\"schema-name\":\"marvin\",\"include-table\":[\"marvin11\"],\"exclude-table\":[]},\"target\":{\"db-type\":\"tidb\",\"username\":\"marvin\",\"password\":\"marvin\",\"host\":\"172.16.4.207\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\\u0026parseTime=True\\u0026loc=Local\",\"meta-schema\":\"db_meta\",\"schema-name\":\"steven\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./conf/transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null}}"]
[2022/04/26 23:29:25.367 +08:00] [INFO] [taskflow.go:41] ["all full table data sync start"] [schema=marvin]
[2022/04/26 23:29:26.683 +08:00] [INFO] [extractor.go:238] ["single full table data sync start"] [schema=marvin] [table=MARVIN11]
[2022/04/26 23:29:27.105 +08:00] [FATAL] [main.go:72] ["server run failed"] [error="sync oracle table rows by checkpoint failed: sync oracle table rows by rowid failed, error: get oracle schema [marvin] table [MARVIN11] record by rowid sql falied: parsing time \"2022-04-26T22:18:53+08:00\" as \"2006-01-02T15:04:05.000000+08:00\": cannot parse \"+08:00\" as \".000000\""] [stack="main.main\n\t/Users/marvin/gostore/transferdb/cmd/main.go:72\nruntime.main\n\t/usr/local/go/src/runtime/proc.go:225"]
