[2022-12-31 14:09:29.549]	[INFO]	[config/version.go:35]	Welcome to transferdb	{"Release Version": "None", "Git Commit Hash": "None", "Git Branch": "None", "UTC Build Time": "None", "Go Version": "go1.19.2", "config": "{\"app\":{\"insert-batch-size\":100,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":4,\"sql-threads\":32,\"apply-threads\":64,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":4,\"worker-queue\":128,\"worker-threads\":64},\"oracle\":{\"ora-arch\":\"noncdb\",\"username\":\"c##ggadmin\",\"password\":\"ggadmin\",\"host\":\"10.2.103.30\",\"port\":1521,\"service-name\":\"orclpdb1\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"nls-lang\":\"AMERICAN_AMERICA.AL32UTF8\",\"connect-params\":\"poolMinSessions=50\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=360s\\u0026poolSessionMaxLifetime=2h\\u0026poolSessionTimeout=2h\\u0026poolIncrement=30\\u0026timezone=Local\\u0026connect_timeout=15\",\"session-params\":[],\"schema-name\":\"marvin\",\"include-table\":[\"marvin02\",\"marvin03\"],\"exclude-table\":[]},\"mysql\":{\"db-type\":\"tidb\",\"username\":\"root\",\"password\":\"\",\"host\":\"10.2.103.30\",\"port\":5000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\\u0026parseTime=True\\u0026loc=Local\",\"meta-schema\":\"transferdb\",\"schema-name\":\"marvin\",\"table-option\":\"SHARD_ROW_ID_BITS = 4 PRE_SPLIT_REGIONS = 4\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null},\"config-file\":\"./example/config.toml\",\"PrintVersion\":false,\"mode\":\"compare\"}"}
[2022-12-31 14:09:30.688]	[FATAL]	[cmd/main.go:59]	server run failed	{"error": "error on ping oracle database connection:user=\"c##ggadmin\" ConnectString=\"10.2.103.30:1521/orclpdb1\" stats=busy=0 open=0 max=1000 maxLifetime=2h0m0s timeout=2h0m0s waitTimeout=6m0s params={authMode:0 connectionClass:0x10aa0c210 connectionClassLength:21 purity:0 newPassword:<nil> newPasswordLength:0 appContext:<nil> numAppContext:0 externalAuth:0 externalHandle:<nil> pool:0x132a0e830 tag:<nil> tagLength:0 matchAnyTag:0 outTag:<nil> outTagLength:0 outTagFound:0 shardingKeyColumns:<nil> numShardingKeyColumns:0 superShardingKeyColumns:<nil> numSuperShardingKeyColumns:0 outNewSession:0}: ORA-12541: TNS:no listener"}
[2022-12-31 14:10:58.825]	[INFO]	[config/version.go:35]	Welcome to transferdb	{"Release Version": "None", "Git Commit Hash": "None", "Git Branch": "None", "UTC Build Time": "None", "Go Version": "go1.19.2", "config": "{\"app\":{\"insert-batch-size\":100,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":4,\"sql-threads\":32,\"apply-threads\":64,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":4,\"worker-queue\":128,\"worker-threads\":64},\"oracle\":{\"ora-arch\":\"noncdb\",\"username\":\"c##ggadmin\",\"password\":\"ggadmin\",\"host\":\"10.2.103.31\",\"port\":1521,\"service-name\":\"orclpdb1\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"nls-lang\":\"AMERICAN_AMERICA.AL32UTF8\",\"connect-params\":\"poolMinSessions=50\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=360s\\u0026poolSessionMaxLifetime=2h\\u0026poolSessionTimeout=2h\\u0026poolIncrement=30\\u0026timezone=Local\\u0026connect_timeout=15\",\"session-params\":[],\"schema-name\":\"marvin\",\"include-table\":[\"marvin02\",\"marvin03\"],\"exclude-table\":[]},\"mysql\":{\"db-type\":\"tidb\",\"username\":\"root\",\"password\":\"\",\"host\":\"10.2.103.30\",\"port\":5000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\\u0026parseTime=True\\u0026loc=Local\",\"meta-schema\":\"transferdb\",\"schema-name\":\"marvin\",\"table-option\":\"SHARD_ROW_ID_BITS = 4 PRE_SPLIT_REGIONS = 4\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null},\"config-file\":\"./example/config.toml\",\"PrintVersion\":false,\"mode\":\"compare\"}"}
[2022-12-31 14:11:00.521]	[INFO]	[o2m/compare.go:55]	diff table oracle to mysql start	{"schema": "marvin"}
[2022-12-31 14:11:00.687]	[INFO]	[o2m/filter.go:91]	get oracle to mysql all tables	{"schema": "marvin", "exporter tables list": ["MARVIN02", "MARVIN03"], "include table counts": 2, "exclude table counts": 0, "all table counts": 37, "cost": "114.376666ms"}
[2022-12-31 14:11:01.273]	[WARN]	[o2m/compare.go:106]	gorm slow-query	{"sql": "INSERT INTO `wait_sync_meta` (`db_type_s`,`db_type_t`,`schema_name_s`,`table_name_s`,`mode`,`full_global_scn`,`full_split_times`,`is_partition`,`comment`,`created_at`,`updated_at`) VALUES ('ORACLE','MYSQL','MARVIN','MARVIN02','CompareO2M',0,-1,'','','2022-12-31 14:11:00.935809 +0800 CST','2022-12-31 14:11:00.935846 +0800 CST')", "rows": 1, "elapsed": 0.392599167}
[2022-12-31 14:11:01.939]	[INFO]	[o2m/compare.go:283]	get oracle db character and version finished	{"schema": "marvin", "db version": "19.0.0.0.0", "db character": "AMERICAN_AMERICA.AL32UTF8", "table totals": 2, "table collation": true, "cost": "147.457333ms"}
[2022-12-31 14:11:02.029]	[FATAL]	[cmd/main.go:59]	server run failed	{"error": "table [[MARVIN02 MARVIN03]] target db isn't exists, please create table"}
[2022-12-31 14:11:21.014]	[INFO]	[config/version.go:35]	Welcome to transferdb	{"Release Version": "None", "Git Commit Hash": "None", "Git Branch": "None", "UTC Build Time": "None", "Go Version": "go1.19.2", "config": "{\"app\":{\"insert-batch-size\":100,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":4,\"sql-threads\":32,\"apply-threads\":64,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":4,\"worker-queue\":128,\"worker-threads\":64},\"oracle\":{\"ora-arch\":\"noncdb\",\"username\":\"c##ggadmin\",\"password\":\"ggadmin\",\"host\":\"10.2.103.31\",\"port\":1521,\"service-name\":\"orclpdb1\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"nls-lang\":\"AMERICAN_AMERICA.AL32UTF8\",\"connect-params\":\"poolMinSessions=50\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=360s\\u0026poolSessionMaxLifetime=2h\\u0026poolSessionTimeout=2h\\u0026poolIncrement=30\\u0026timezone=Local\\u0026connect_timeout=15\",\"session-params\":[],\"schema-name\":\"marvin\",\"include-table\":[\"marvin06\",\"marvin07\"],\"exclude-table\":[]},\"mysql\":{\"db-type\":\"tidb\",\"username\":\"root\",\"password\":\"\",\"host\":\"10.2.103.30\",\"port\":5000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\\u0026parseTime=True\\u0026loc=Local\",\"meta-schema\":\"transferdb\",\"schema-name\":\"marvin\",\"table-option\":\"SHARD_ROW_ID_BITS = 4 PRE_SPLIT_REGIONS = 4\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null},\"config-file\":\"./example/config.toml\",\"PrintVersion\":false,\"mode\":\"compare\"}"}
[2022-12-31 14:11:22.671]	[INFO]	[o2m/compare.go:55]	diff table oracle to mysql start	{"schema": "marvin"}
[2022-12-31 14:11:22.831]	[INFO]	[o2m/filter.go:91]	get oracle to mysql all tables	{"schema": "marvin", "exporter tables list": ["MARVIN06", "MARVIN07"], "include table counts": 2, "exclude table counts": 0, "all table counts": 37, "cost": "111.0575ms"}
[2022-12-31 14:11:23.938]	[INFO]	[o2m/compare.go:283]	get oracle db character and version finished	{"schema": "marvin", "db version": "19.0.0.0.0", "db character": "AMERICAN_AMERICA.AL32UTF8", "table totals": 2, "table collation": true, "cost": "146.280084ms"}
[2022-12-31 14:11:24.008]	[FATAL]	[cmd/main.go:59]	server run failed	{"error": "table [[MARVIN06 MARVIN07]] target db isn't exists, please create table"}
[2022-12-31 14:12:50.511]	[INFO]	[config/version.go:35]	Welcome to transferdb	{"Release Version": "None", "Git Commit Hash": "None", "Git Branch": "None", "UTC Build Time": "None", "Go Version": "go1.19.2", "config": "{\"app\":{\"insert-batch-size\":100,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":4,\"sql-threads\":32,\"apply-threads\":64,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":4,\"worker-queue\":128,\"worker-threads\":64},\"oracle\":{\"ora-arch\":\"noncdb\",\"username\":\"c##ggadmin\",\"password\":\"ggadmin\",\"host\":\"10.2.103.31\",\"port\":1521,\"service-name\":\"orclpdb1\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"nls-lang\":\"AMERICAN_AMERICA.AL32UTF8\",\"connect-params\":\"poolMinSessions=50\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=360s\\u0026poolSessionMaxLifetime=2h\\u0026poolSessionTimeout=2h\\u0026poolIncrement=30\\u0026timezone=Local\\u0026connect_timeout=15\",\"session-params\":[],\"schema-name\":\"marvin\",\"include-table\":[\"marvin06\",\"marvin07\"],\"exclude-table\":[]},\"mysql\":{\"db-type\":\"tidb\",\"username\":\"root\",\"password\":\"\",\"host\":\"10.2.103.30\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\\u0026parseTime=True\\u0026loc=Local\",\"meta-schema\":\"transferdb\",\"schema-name\":\"marvin\",\"table-option\":\"SHARD_ROW_ID_BITS = 4 PRE_SPLIT_REGIONS = 4\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null},\"config-file\":\"./example/config.toml\",\"PrintVersion\":false,\"mode\":\"prepare\"}"}
[2022-12-31 14:12:50.512]	[INFO]	[prepare/prepare.go:28]	prepare tansferdb env start
[2022-12-31 14:12:52.816]	[WARN]	[meta/meta.go:107]	gorm slow-query	{"sql": "CREATE TABLE `column_datatype_rule` (`id` bigint unsigned AUTO_INCREMENT COMMENT '\\'自增编号\\'',`db_type_s` varchar(15) COMMENT '\\'源数据库类型\\'',`db_type_t` varchar(15) COMMENT '\\'目标数据库类型\\'',`schema_name_s` varchar(191) NOT NULL COMMENT '\\'源端库 schema\\'',`table_name_s` varchar(191) NOT NULL COMMENT '\\'源端表名\\'',`column_name_s` varchar(191) NOT NULL COMMENT '\\'源端表字段列名\\'',`column_type_s` longtext NOT NULL COMMENT '\\'源端表字段类型\\'',`column_type_t` longtext NOT NULL COMMENT '\\'目标表字段类型\\'',`comment` varchar(1000) COMMENT 'comment content',`created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\'',`updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\'',PRIMARY KEY (`id`),UNIQUE INDEX idx_dbtype_st_map (`db_type_s`,`db_type_t`,`schema_name_s`,`table_name_s`,`column_name_s`))", "rows": 0, "elapsed": 0.763778667}
[2022-12-31 14:12:53.649]	[WARN]	[meta/meta.go:107]	gorm slow-query	{"sql": "CREATE TABLE `table_datatype_rule` (`id` bigint unsigned AUTO_INCREMENT COMMENT '\\'自增编号\\'',`db_type_s` varchar(15) COMMENT '\\'源数据库类型\\'',`db_type_t` varchar(15) COMMENT '\\'目标数据库类型\\'',`schema_name_s` varchar(191) NOT NULL COMMENT '\\'源端库 schema\\'',`table_name_s` varchar(191) NOT NULL COMMENT '\\'源端表名\\'',`column_type_s` varchar(191) NOT NULL COMMENT '\\'源端表字段类型\\'',`column_type_t` longtext NOT NULL COMMENT '\\'目标表字段类型\\'',`comment` varchar(1000) COMMENT 'comment content',`created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\'',`updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\'',PRIMARY KEY (`id`),UNIQUE INDEX idx_dbtype_st_map (`db_type_s`,`db_type_t`,`schema_name_s`,`table_name_s`,`column_type_s`))", "rows": 0, "elapsed": 0.685342291}
[2022-12-31 14:12:54.392]	[WARN]	[meta/meta.go:107]	gorm slow-query	{"sql": "CREATE TABLE `schema_datatype_rule` (`id` bigint unsigned AUTO_INCREMENT COMMENT '\\'自增编号\\'',`db_type_s` varchar(15) COMMENT '\\'源数据库类型\\'',`db_type_t` varchar(15) COMMENT '\\'目标数据库类型\\'',`schema_name_s` varchar(191) NOT NULL COMMENT '\\'源端库 schema\\'',`column_type_s` varchar(191) NOT NULL COMMENT '\\'源端表字段类型\\'',`column_type_t` longtext NOT NULL COMMENT '\\'目标表字段类型\\'',`comment` varchar(1000) COMMENT 'comment content',`created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\'',`updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\'',PRIMARY KEY (`id`),UNIQUE INDEX idx_dbtype_st_map (`db_type_s`,`db_type_t`,`schema_name_s`,`column_type_s`))", "rows": 0, "elapsed": 0.600984083}
[2022-12-31 14:12:55.161]	[WARN]	[meta/meta.go:107]	gorm slow-query	{"sql": "CREATE TABLE `data_compare_meta` (`id` bigint unsigned AUTO_INCREMENT COMMENT '\\'自增编号\\'',`db_type_s` varchar(15) COMMENT '\\'源数据库类型\\'',`db_type_t` varchar(15) COMMENT '\\'目标数据库类型\\'',`schema_name_s` varchar(191) NOT NULL COMMENT '\\'源端 schema\\'',`table_name_s` varchar(191) NOT NULL COMMENT '\\'源端表名\\'',`column_info_s` text COMMENT '\\'源端查询字段信息\\'',`schema_name_t` longtext NOT NULL COMMENT '\\'目标端 schema\\'',`table_name_t` longtext NOT NULL COMMENT '\\'目标端表名\\'',`column_info_t` text COMMENT '\\'目标端查询字段信息\\'',`where_column` longtext COMMENT '\\'查询类型字段列\\'',`where_range` varchar(191) NOT NULL COMMENT '\\'查询 where 条件\\'',`is_partition` longtext COMMENT '\\'是否是分区表\\'',`comment` varchar(1000) COMMENT 'comment content',`created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\'',`updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\'',PRIMARY KEY (`id`),UNIQUE INDEX idx_dbtype_st_obj (`db_type_s`,`db_type_t`,`schema_name_s`,`table_name_s`,`where_range`))", "rows": 0, "elapsed": 0.625895292}
[2022-12-31 14:12:55.997]	[WARN]	[meta/meta.go:107]	gorm slow-query	{"sql": "CREATE TABLE `wait_sync_meta` (`id` bigint unsigned AUTO_INCREMENT COMMENT '\\'自增编号\\'',`db_type_s` varchar(15) COMMENT '\\'源数据库类型\\'',`db_type_t` varchar(15) COMMENT '\\'目标数据库类型\\'',`schema_name_s` varchar(191) NOT NULL COMMENT '\\'源端 schema\\'',`table_name_s` varchar(191) NOT NULL COMMENT '\\'源端表名\\'',`mode` varchar(191) NOT NULL COMMENT '\\'同步模式\\'',`full_global_scn` bigint unsigned COMMENT '\\'全量任务 full_sync_meta 全局 SCN\\'',`full_split_times` bigint COMMENT '\\'全量任务 full_sync_meta 切分 SQL 次数\\'',`is_partition` longtext COMMENT '\\'是否是分区表\\'',`comment` varchar(1000) COMMENT 'comment content',`created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\'',`updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\'',PRIMARY KEY (`id`),UNIQUE INDEX idx_dbtype_st_map (`db_type_s`,`db_type_t`,`schema_name_s`,`table_name_s`,`mode`))", "rows": 0, "elapsed": 0.684866916}
[2022-12-31 14:12:56.990]	[WARN]	[meta/meta.go:107]	gorm slow-query	{"sql": "CREATE TABLE `full_sync_meta` (`id` bigint unsigned AUTO_INCREMENT COMMENT '\\'自增编号\\'',`db_type_s` varchar(15) COMMENT '\\'源数据库类型\\'',`db_type_t` varchar(15) COMMENT '\\'目标数据库类型\\'',`schema_name_s` varchar(15) NOT NULL COMMENT '\\'源端 schema\\'',`table_name_s` varchar(30) NOT NULL COMMENT '\\'源端表名\\'',`schema_name_t` varchar(15) NOT NULL COMMENT '\\'目标端 schema\\'',`table_name_t` varchar(30) NOT NULL COMMENT '\\'目标端表名\\'',`global_scn_s` bigint unsigned COMMENT '\\'源端全局 SCN\\'',`column_info_s` text COMMENT '\\'源端查询字段信息\\'',`rowid_info_s` varchar(300) NOT NULL COMMENT '\\'表 rowid 切分信息\\'',`mode` varchar(191) NOT NULL COMMENT '\\'同步模式\\'',`is_partition` longtext COMMENT '\\'是否是分区表\\'',`csv_file` varchar(300) COMMENT '\\'csv 文件名\\'',`comment` varchar(1000) COMMENT 'comment content',`created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\'',`updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\'',PRIMARY KEY (`id`),UNIQUE INDEX idx_dbtype_st_map (`db_type_s`,`db_type_t`,`schema_name_s`,`table_name_s`,`rowid_info_s`,`mode`),INDEX idx_schema_mode (`db_type_s`,`db_type_t`,`schema_name_s`,`mode`))", "rows": 0, "elapsed": 0.850794917}
[2022-12-31 14:12:57.271]	[ERROR]	[meta/meta.go:107]	gorm slow-query	{"sql": "CREATE TABLE `incr_sync_meta` (`id` bigint unsigned AUTO_INCREMENT COMMENT '\\'自增编号\\'',`db_type_s` varchar(15) COMMENT '\\'源数据库类型\\'',`db_type_t` varchar(15) COMMENT '\\'目标数据库类型\\'',`schema_name_s` varchar(191) NOT NULL COMMENT '\\'源端 schema\\'',`table_name_s` varchar(191) NOT NULL COMMENT '\\'源端表名\\'',`schema_name_t` varchar(191) NOT NULL COMMENT '\\'目标 schema\\'',`table_name_t` varchar(191) NOT NULL COMMENT '\\'目标表名\\'',`global_scn_s` bigint unsigned COMMENT '\\'源端全局 SCN\\'',`table_scn_s` bigint unsigned COMMENT '\\'源端表同步 SCN\\'',`is_partition` longtext COMMENT '\\'是否是分区表\\'',`comment` varchar(1000) COMMENT 'comment content',`created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\'',`updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\'',PRIMARY KEY (`id`),UNIQUE INDEX idx_dbtype_st_map (`db_type_s`,`db_type_t`,`schema_name_s`,`table_name_s`,`schema_name_t`,`table_name_t`))", "rows": 0, "elapsed": 0.130802791, "error": "Error 1071: Specified key was too long; max key length is 3072 bytes"}
[2022-12-31 14:12:57.272]	[FATAL]	[cmd/main.go:59]	server run failed	{"error": "[TYPE] TRANSFERDB [DOMAIN]: DATABASE [CAUSE]: error on migrate stream: Error 1071: Specified key was too long; max key length is 3072 bytes"}
[2022-12-31 14:14:05.542]	[INFO]	[config/version.go:35]	Welcome to transferdb	{"Release Version": "None", "Git Commit Hash": "None", "Git Branch": "None", "UTC Build Time": "None", "Go Version": "go1.19.2", "config": "{\"app\":{\"insert-batch-size\":100,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":4,\"sql-threads\":32,\"apply-threads\":64,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":4,\"worker-queue\":128,\"worker-threads\":64},\"oracle\":{\"ora-arch\":\"noncdb\",\"username\":\"c##ggadmin\",\"password\":\"ggadmin\",\"host\":\"10.2.103.31\",\"port\":1521,\"service-name\":\"orclpdb1\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"nls-lang\":\"AMERICAN_AMERICA.AL32UTF8\",\"connect-params\":\"poolMinSessions=50\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=360s\\u0026poolSessionMaxLifetime=2h\\u0026poolSessionTimeout=2h\\u0026poolIncrement=30\\u0026timezone=Local\\u0026connect_timeout=15\",\"session-params\":[],\"schema-name\":\"marvin\",\"include-table\":[\"marvin06\",\"marvin07\"],\"exclude-table\":[]},\"mysql\":{\"db-type\":\"tidb\",\"username\":\"root\",\"password\":\"\",\"host\":\"10.2.103.30\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\\u0026parseTime=True\\u0026loc=Local\",\"meta-schema\":\"transferdb\",\"schema-name\":\"marvin\",\"table-option\":\"SHARD_ROW_ID_BITS = 4 PRE_SPLIT_REGIONS = 4\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null},\"config-file\":\"./example/config.toml\",\"PrintVersion\":false,\"mode\":\"prepare\"}"}
[2022-12-31 14:14:05.544]	[INFO]	[prepare/prepare.go:28]	prepare tansferdb env start
[2022-12-31 14:14:07.442]	[WARN]	[migrator/migrator.go:52]	gorm slow-query	{"sql": "ALTER TABLE `column_datatype_rule` MODIFY COLUMN `created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\''", "rows": 0, "elapsed": 0.672021417}
[2022-12-31 14:14:07.854]	[WARN]	[migrator/migrator.go:52]	gorm slow-query	{"sql": "ALTER TABLE `column_datatype_rule` MODIFY COLUMN `updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\''", "rows": 0, "elapsed": 0.411701167}
[2022-12-31 14:14:08.977]	[WARN]	[migrator/migrator.go:52]	gorm slow-query	{"sql": "ALTER TABLE `table_datatype_rule` MODIFY COLUMN `created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\''", "rows": 0, "elapsed": 0.54299525}
[2022-12-31 14:14:09.373]	[WARN]	[migrator/migrator.go:52]	gorm slow-query	{"sql": "ALTER TABLE `table_datatype_rule` MODIFY COLUMN `updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\''", "rows": 0, "elapsed": 0.395222125}
[2022-12-31 14:14:10.513]	[WARN]	[migrator/migrator.go:52]	gorm slow-query	{"sql": "ALTER TABLE `schema_datatype_rule` MODIFY COLUMN `created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\''", "rows": 0, "elapsed": 0.500764417}
[2022-12-31 14:14:10.891]	[WARN]	[migrator/migrator.go:52]	gorm slow-query	{"sql": "ALTER TABLE `schema_datatype_rule` MODIFY COLUMN `updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\''", "rows": 0, "elapsed": 0.377063792}
[2022-12-31 14:14:11.838]	[WARN]	[migrator/migrator.go:52]	gorm slow-query	{"sql": "ALTER TABLE `data_compare_meta` MODIFY COLUMN `created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\''", "rows": 0, "elapsed": 0.415216792}
[2022-12-31 14:14:12.254]	[WARN]	[migrator/migrator.go:52]	gorm slow-query	{"sql": "ALTER TABLE `data_compare_meta` MODIFY COLUMN `updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\''", "rows": 0, "elapsed": 0.415293625}
[2022-12-31 14:14:13.278]	[WARN]	[migrator/migrator.go:52]	gorm slow-query	{"sql": "ALTER TABLE `wait_sync_meta` MODIFY COLUMN `created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\''", "rows": 0, "elapsed": 0.473785917}
[2022-12-31 14:14:13.832]	[WARN]	[migrator/migrator.go:52]	gorm slow-query	{"sql": "ALTER TABLE `wait_sync_meta` MODIFY COLUMN `updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\''", "rows": 0, "elapsed": 0.553237208}
[2022-12-31 14:14:15.020]	[WARN]	[migrator/migrator.go:52]	gorm slow-query	{"sql": "ALTER TABLE `full_sync_meta` MODIFY COLUMN `created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\''", "rows": 0, "elapsed": 0.616655542}
[2022-12-31 14:14:15.525]	[WARN]	[migrator/migrator.go:52]	gorm slow-query	{"sql": "ALTER TABLE `full_sync_meta` MODIFY COLUMN `updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\''", "rows": 0, "elapsed": 0.504671083}
[2022-12-31 14:14:16.489]	[WARN]	[meta/meta.go:107]	gorm slow-query	{"sql": "CREATE TABLE `incr_sync_meta` (`id` bigint unsigned AUTO_INCREMENT COMMENT '\\'自增编号\\'',`db_type_s` varchar(15) COMMENT '\\'源数据库类型\\'',`db_type_t` varchar(15) COMMENT '\\'目标数据库类型\\'',`schema_name_s` varchar(30) NOT NULL COMMENT '\\'源端 schema\\'',`table_name_s` varchar(30) NOT NULL COMMENT '\\'源端表名\\'',`schema_name_t` varchar(30) NOT NULL COMMENT '\\'目标 schema\\'',`table_name_t` varchar(30) NOT NULL COMMENT '\\'目标表名\\'',`global_scn_s` bigint unsigned COMMENT '\\'源端全局 SCN\\'',`table_scn_s` bigint unsigned COMMENT '\\'源端表同步 SCN\\'',`is_partition` longtext COMMENT '\\'是否是分区表\\'',`comment` varchar(1000) COMMENT 'comment content',`created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\'',`updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\'',PRIMARY KEY (`id`),UNIQUE INDEX idx_dbtype_st_map (`db_type_s`,`db_type_t`,`schema_name_s`,`table_name_s`,`schema_name_t`,`table_name_t`))", "rows": 0, "elapsed": 0.436095583}
[2022-12-31 14:14:17.170]	[WARN]	[meta/meta.go:107]	gorm slow-query	{"sql": "CREATE TABLE `error_log_detail` (`id` bigint unsigned AUTO_INCREMENT COMMENT '\\'自增编号\\'',`db_type_s` varchar(15) COMMENT '\\'源数据库类型\\'',`db_type_t` varchar(15) COMMENT '\\'目标数据库类型\\'',`schema_name_s` varchar(191) NOT NULL COMMENT '\\'源端 schema\\'',`table_name_s` varchar(191) NOT NULL COMMENT '\\'源端表名\\'',`run_mode` varchar(191) NOT NULL COMMENT '\\'运行模式\\'',`run_status` longtext NOT NULL COMMENT '\\'运行状态\\'',`info_detail` longtext NOT NULL COMMENT '\\'信息详情\\'',`error_detail` longtext NOT NULL COMMENT '\\'错误详情\\'',`comment` varchar(1000) COMMENT 'comment content',`created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\'',`updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\'',PRIMARY KEY (`id`),INDEX idx_dbtype_st_map (`db_type_s`,`db_type_t`,`schema_name_s`,`table_name_s`,`run_mode`))", "rows": 0, "elapsed": 0.539632541}
[2022-12-31 14:14:17.931]	[WARN]	[meta/meta.go:107]	gorm slow-query	{"sql": "CREATE TABLE `buildin_column_defaultval` (`id` bigint unsigned AUTO_INCREMENT COMMENT '\\'自增编号\\'',`db_type_s` varchar(15) COMMENT '\\'源数据库类型\\'',`db_type_t` varchar(15) COMMENT '\\'目标数据库类型\\'',`default_value_s` varchar(191) NOT NULL COMMENT '\\'源端默认值\\'',`default_value_t` longtext NOT NULL COMMENT '\\'目标默认值\\'',`comment` varchar(1000) COMMENT 'comment content',`created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\'',`updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\'',PRIMARY KEY (`id`),UNIQUE INDEX idx_dbtype_st_map (`db_type_s`,`db_type_t`,`default_value_s`))", "rows": 0, "elapsed": 0.59454475}
[2022-12-31 14:14:18.687]	[WARN]	[meta/meta.go:107]	gorm slow-query	{"sql": "CREATE TABLE `buildin_object_compatible` (`id` bigint unsigned AUTO_INCREMENT COMMENT '\\'自增编号\\'',`db_type_s` varchar(15) COMMENT '\\'源数据库类型\\'',`db_type_t` varchar(15) COMMENT '\\'目标数据库类型\\'',`object_name_s` varchar(300) COMMENT '\\'源数据库对象名\\'',`is_compatible` char(1) COMMENT '\\'对象是否可兼容\\'',`is_convertible` char(1) COMMENT '\\'对象是否可改造\\'',`comment` varchar(1000) COMMENT 'comment content',`created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\'',`updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\'',PRIMARY KEY (`id`),UNIQUE INDEX idx_dbtype_st_obj (`db_type_s`,`db_type_t`,`object_name_s`))", "rows": 0, "elapsed": 0.617002542}
[2022-12-31 14:14:19.422]	[WARN]	[meta/meta.go:107]	gorm slow-query	{"sql": "CREATE TABLE `buildin_datatype_rule` (`id` bigint unsigned AUTO_INCREMENT COMMENT '\\'自增编号\\'',`db_type_s` varchar(15) COMMENT '\\'源数据库类型\\'',`db_type_t` varchar(15) COMMENT '\\'目标数据库类型\\'',`datatype_name_s` varchar(300) COMMENT '\\'源数据类型名字\\'',`datatype_name_t` varchar(300) COMMENT '\\'目标数据类型名字\\'',`comment` varchar(1000) COMMENT 'comment content',`created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\'',`updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\'',PRIMARY KEY (`id`),UNIQUE INDEX idx_dbtype_st_obj (`db_type_s`,`db_type_t`,`datatype_name_s`))", "rows": 0, "elapsed": 0.59595275}
[2022-12-31 14:14:20.129]	[WARN]	[meta/meta.go:107]	gorm slow-query	{"sql": "CREATE TABLE `table_name_rule` (`id` bigint unsigned AUTO_INCREMENT COMMENT '\\'自增编号\\'',`db_type_s` varchar(15) COMMENT '\\'源数据库类型\\'',`db_type_t` varchar(15) COMMENT '\\'目标数据库类型\\'',`schema_name_s` varchar(191) NOT NULL COMMENT '\\'源端库 schema\\'',`table_name_s` varchar(191) NOT NULL COMMENT '\\'源端表名\\'',`schema_name_t` varchar(191) NOT NULL COMMENT '\\'目标库 schema\\'',`table_name_t` longtext NOT NULL COMMENT '\\'目标表名\\'',`comment` varchar(1000) COMMENT 'comment content',`created_at` datetime(3) default current_timestamp(3) COMMENT '\\'创建时间\\'',`updated_at` datetime(3) default current_timestamp(3) on update current_timestamp(3) COMMENT '\\'更新时间\\'',PRIMARY KEY (`id`),UNIQUE INDEX idx_dbtype_st_table (`db_type_s`,`db_type_t`,`schema_name_s`,`table_name_s`),UNIQUE INDEX idx_dbtype_st_map (`db_type_s`,`db_type_t`,`schema_name_s`,`table_name_s`,`schema_name_t`))", "rows": 0, "elapsed": 0.565738083}
[2022-12-31 14:14:21.271]	[WARN]	[meta/meta.go:132]	gorm slow-query	{"sql": "INSERT INTO `buildin_object_compatible` (`db_type_s`,`db_type_t`,`object_name_s`,`is_compatible`,`is_convertible`,`comment`,`created_at`,`updated_at`) VALUES ('ORACLE','MYSQL','AL32UTF8','Y','Y','','2022-12-31 14:14:20.898738 +0800 CST','2022-12-31 14:14:20.898775 +0800 CST'),('ORACLE','MYSQL','ZHS16GBK','Y','Y','','2022-12-31 14:14:20.898784 +0800 CST','2022-12-31 14:14:20.89879 +0800 CST'),('ORACLE','MYSQL','HEAP','Y','Y','','2022-12-31 14:14:20.898797 +0800 CST','2022-12-31 14:14:20.898803 +0800 CST'),('ORACLE','MYSQL','CLUSTERED','N','Y','','2022-12-31 14:14:20.89881 +0800 CST','2022-12-31 14:14:20.898816 +0800 CST'),('ORACLE','MYSQL','TEMPORARY','Y','Y','','2022-12-31 14:14:20.898822 +0800 CST','2022-12-31 14:14:20.898828 +0800 CST'),('ORACLE','MYSQL','PARTITIONED','Y','Y','','2022-12-31 14:14:20.898835 +0800 CST','2022-12-31 14:14:20.898841 +0800 CST'),('ORACLE','MYSQL','P','Y','Y','','2022-12-31 14:14:20.898847 +0800 CST','2022-12-31 14:14:20.898853 +0800 CST'),('ORACLE','MYSQL','U','Y','Y','','2022-12-31 14:14:20.89886 +0800 CST','2022-12-31 14:14:20.898866 +0800 CST'),('ORACLE','MYSQL','C','N','Y','','2022-12-31 14:14:20.898872 +0800 CST','2022-12-31 14:14:20.898878 +0800 CST'),('ORACLE','MYSQL','F','N','Y','','2022-12-31 14:14:20.898884 +0800 CST','2022-12-31 14:14:20.89889 +0800 CST'),('ORACLE','MYSQL','NORMAL','Y','Y','','2022-12-31 14:14:20.898895 +0800 CST','2022-12-31 14:14:20.898901 +0800 CST'),('ORACLE','MYSQL','FUNCTION-BASED NORMAL','N','Y','','2022-12-31 14:14:20.898908 +0800 CST','2022-12-31 14:14:20.898913 +0800 CST'),('ORACLE','MYSQL','BITMAP','N','N','','2022-12-31 14:14:20.898919 +0800 CST','2022-12-31 14:14:20.898925 +0800 CST'),('ORACLE','MYSQL','FUNCTION-BASED BITMAP','N','N','','2022-12-31 14:14:20.898931 +0800 CST','2022-12-31 14:14:20.898937 +0800 CST'),('ORACLE','MYSQL','DOMAIN','N','N','','2022-12-31 14:14:20.898943 +0800 CST','2022-12-31 14:14:20.898949 +0800 CST'),('ORACLE','MYSQL','VIEW','Y','Y','','2022-12-31 14:14:20.898955 +0800 CST','2022-12-31 14:14:20.898961 +0800 CST'),('ORACLE','MYSQL','MATERIALIZED VIEW','N','N','','2022-12-31 14:14:20.898967 +0800 CST','2022-12-31 14:14:20.898973 +0800 CST'),('ORACLE','MYSQL','CLUSTER','N','N','','2022-12-31 14:14:20.899008 +0800 CST','2022-12-31 14:14:20.899014 +0800 CST'),('ORACLE','MYSQL','CONSUMER GROUP','N','N','','2022-12-31 14:14:20.89902 +0800 CST','2022-12-31 14:14:20.899027 +0800 CST'),('ORACLE','MYSQL','CONTEXT','N','N','','2022-12-31 14:14:20.899032 +0800 CST','2022-12-31 14:14:20.899038 +0800 CST') ON DUPLICATE KEY UPDATE `id`=`id`", "rows": 20, "elapsed": 0.372440375}
[2022-12-31 14:14:21.878]	[WARN]	[meta/meta.go:132]	gorm slow-query	{"sql": "INSERT INTO `buildin_object_compatible` (`db_type_s`,`db_type_t`,`object_name_s`,`is_compatible`,`is_convertible`,`comment`,`created_at`,`updated_at`) VALUES ('ORACLE','MYSQL','PROCEDURE','N','N','','2022-12-31 14:14:21.554401 +0800 CST','2022-12-31 14:14:21.554431 +0800 CST'),('ORACLE','MYSQL','PROGRAM','N','N','','2022-12-31 14:14:21.55444 +0800 CST','2022-12-31 14:14:21.554446 +0800 CST'),('ORACLE','MYSQL','QUEUE','N','N','','2022-12-31 14:14:21.554453 +0800 CST','2022-12-31 14:14:21.554459 +0800 CST'),('ORACLE','MYSQL','RESOURCE PLAN','N','N','','2022-12-31 14:14:21.554465 +0800 CST','2022-12-31 14:14:21.554471 +0800 CST'),('ORACLE','MYSQL','RULE','N','N','','2022-12-31 14:14:21.554478 +0800 CST','2022-12-31 14:14:21.554484 +0800 CST'),('ORACLE','MYSQL','RULE SET','N','N','','2022-12-31 14:14:21.55449 +0800 CST','2022-12-31 14:14:21.554496 +0800 CST'),('ORACLE','MYSQL','SCHEDULE','N','N','','2022-12-31 14:14:21.554502 +0800 CST','2022-12-31 14:14:21.554508 +0800 CST'),('ORACLE','MYSQL','SCHEDULER GROUP','N','N','','2022-12-31 14:14:21.554514 +0800 CST','2022-12-31 14:14:21.55452 +0800 CST'),('ORACLE','MYSQL','SEQUENCE','N','N','','2022-12-31 14:14:21.554526 +0800 CST','2022-12-31 14:14:21.554573 +0800 CST'),('ORACLE','MYSQL','TRIGGER','N','N','','2022-12-31 14:14:21.554583 +0800 CST','2022-12-31 14:14:21.554591 +0800 CST'),('ORACLE','MYSQL','TYPE','N','N','','2022-12-31 14:14:21.554597 +0800 CST','2022-12-31 14:14:21.554604 +0800 CST'),('ORACLE','MYSQL','TYPE BODY','N','N','','2022-12-31 14:14:21.55461 +0800 CST','2022-12-31 14:14:21.554616 +0800 CST'),('ORACLE','MYSQL','UNDEFINED','N','N','','2022-12-31 14:14:21.554621 +0800 CST','2022-12-31 14:14:21.554627 +0800 CST'),('ORACLE','MYSQL','UNIFIED AUDIT POLICY','N','N','','2022-12-31 14:14:21.554633 +0800 CST','2022-12-31 14:14:21.554639 +0800 CST'),('ORACLE','MYSQL','WINDOW','N','N','','2022-12-31 14:14:21.554645 +0800 CST','2022-12-31 14:14:21.554655 +0800 CST'),('ORACLE','MYSQL','XML SCHEMA','N','N','','2022-12-31 14:14:21.554661 +0800 CST','2022-12-31 14:14:21.554667 +0800 CST'),('ORACLE','MYSQL','DATABASE LINK','N','N','','2022-12-31 14:14:21.554672 +0800 CST','2022-12-31 14:14:21.554678 +0800 CST'),('ORACLE','MYSQL','SYNONYM','N','N','','2022-12-31 14:14:21.554684 +0800 CST','2022-12-31 14:14:21.55469 +0800 CST'),('ORACLE','MYSQL','RANGE','Y','N','','2022-12-31 14:14:21.554696 +0800 CST','2022-12-31 14:14:21.554702 +0800 CST'),('ORACLE','MYSQL','LIST','Y','N','','2022-12-31 14:14:21.554708 +0800 CST','2022-12-31 14:14:21.554714 +0800 CST') ON DUPLICATE KEY UPDATE `id`=`id`", "rows": 20, "elapsed": 0.324204625}
[2022-12-31 14:14:22.656]	[WARN]	[meta/meta.go:136]	gorm slow-query	{"sql": "INSERT INTO `buildin_datatype_rule` (`db_type_s`,`db_type_t`,`datatype_name_s`,`datatype_name_t`,`comment`,`created_at`,`updated_at`) VALUES ('ORACLE','MYSQL','NUMBER','TINYINT/SMALLINT/INT/BIGINT/DECIMAL','','2022-12-31 14:14:22.248744 +0800 CST','2022-12-31 14:14:22.248781 +0800 CST'),('ORACLE','MYSQL','BFILE','VARCHAR','','2022-12-31 14:14:22.248792 +0800 CST','2022-12-31 14:14:22.248799 +0800 CST'),('ORACLE','MYSQL','CHAR','VARCHAR','','2022-12-31 14:14:22.248806 +0800 CST','2022-12-31 14:14:22.248812 +0800 CST'),('ORACLE','MYSQL','CHARACTER','VARCHAR','','2022-12-31 14:14:22.248819 +0800 CST','2022-12-31 14:14:22.248825 +0800 CST'),('ORACLE','MYSQL','CLOB','LONGTEXT','','2022-12-31 14:14:22.248831 +0800 CST','2022-12-31 14:14:22.248837 +0800 CST'),('ORACLE','MYSQL','BLOB','BLOB','','2022-12-31 14:14:22.248843 +0800 CST','2022-12-31 14:14:22.24885 +0800 CST'),('ORACLE','MYSQL','DATE','DATETIME','','2022-12-31 14:14:22.248856 +0800 CST','2022-12-31 14:14:22.248862 +0800 CST'),('ORACLE','MYSQL','DECIMAL','DECIMAL','','2022-12-31 14:14:22.248868 +0800 CST','2022-12-31 14:14:22.248874 +0800 CST'),('ORACLE','MYSQL','DEC','DECIMAL','','2022-12-31 14:14:22.248881 +0800 CST','2022-12-31 14:14:22.248887 +0800 CST'),('ORACLE','MYSQL','DOUBLE PRECISION','DOUBLE PRECISION','','2022-12-31 14:14:22.248892 +0800 CST','2022-12-31 14:14:22.248898 +0800 CST'),('ORACLE','MYSQL','FLOAT','DOUBLE','','2022-12-31 14:14:22.248904 +0800 CST','2022-12-31 14:14:22.24891 +0800 CST'),('ORACLE','MYSQL','INTEGER','INT','','2022-12-31 14:14:22.248916 +0800 CST','2022-12-31 14:14:22.248922 +0800 CST'),('ORACLE','MYSQL','INT','INT','','2022-12-31 14:14:22.248928 +0800 CST','2022-12-31 14:14:22.248934 +0800 CST'),('ORACLE','MYSQL','LONG','LONGTEXT','','2022-12-31 14:14:22.24894 +0800 CST','2022-12-31 14:14:22.248946 +0800 CST'),('ORACLE','MYSQL','LONG RAW','LONG BLOB','','2022-12-31 14:14:22.248952 +0800 CST','2022-12-31 14:14:22.248962 +0800 CST'),('ORACLE','MYSQL','BINARY_FLOAT','DOUBLE','','2022-12-31 14:14:22.248968 +0800 CST','2022-12-31 14:14:22.248974 +0800 CST'),('ORACLE','MYSQL','BINARY_DOUBLE','DOUBLE','','2022-12-31 14:14:22.248981 +0800 CST','2022-12-31 14:14:22.248987 +0800 CST'),('ORACLE','MYSQL','NCHAR','NVARCHAR','','2022-12-31 14:14:22.248993 +0800 CST','2022-12-31 14:14:22.249 +0800 CST'),('ORACLE','MYSQL','NCHAR VARYING','NCHAR VARYING','','2022-12-31 14:14:22.249007 +0800 CST','2022-12-31 14:14:22.249013 +0800 CST'),('ORACLE','MYSQL','NCLOB','TEXT','','2022-12-31 14:14:22.249019 +0800 CST','2022-12-31 14:14:22.249026 +0800 CST') ON DUPLICATE KEY UPDATE `id`=`id`", "rows": 20, "elapsed": 0.407508375}
[2022-12-31 14:14:24.023]	[INFO]	[prepare/prepare.go:44]	prepare tansferdb env finished	{"cost": "18.479455166s"}
[2022-12-31 14:14:33.544]	[INFO]	[config/version.go:35]	Welcome to transferdb	{"Release Version": "None", "Git Commit Hash": "None", "Git Branch": "None", "UTC Build Time": "None", "Go Version": "go1.19.2", "config": "{\"app\":{\"insert-batch-size\":100,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":4,\"sql-threads\":32,\"apply-threads\":64,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":4,\"worker-queue\":128,\"worker-threads\":64},\"oracle\":{\"ora-arch\":\"noncdb\",\"username\":\"c##ggadmin\",\"password\":\"ggadmin\",\"host\":\"10.2.103.31\",\"port\":1521,\"service-name\":\"orclpdb1\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"nls-lang\":\"AMERICAN_AMERICA.AL32UTF8\",\"connect-params\":\"poolMinSessions=50\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=360s\\u0026poolSessionMaxLifetime=2h\\u0026poolSessionTimeout=2h\\u0026poolIncrement=30\\u0026timezone=Local\\u0026connect_timeout=15\",\"session-params\":[],\"schema-name\":\"marvin\",\"include-table\":[\"marvin06\",\"marvin07\"],\"exclude-table\":[]},\"mysql\":{\"db-type\":\"tidb\",\"username\":\"root\",\"password\":\"\",\"host\":\"10.2.103.30\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\\u0026parseTime=True\\u0026loc=Local\",\"meta-schema\":\"transferdb\",\"schema-name\":\"marvin\",\"table-option\":\"SHARD_ROW_ID_BITS = 4 PRE_SPLIT_REGIONS = 4\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null},\"config-file\":\"./example/config.toml\",\"PrintVersion\":false,\"mode\":\"compare\"}"}
[2022-12-31 14:14:35.222]	[INFO]	[o2m/compare.go:55]	diff table oracle to mysql start	{"schema": "marvin"}
[2022-12-31 14:14:35.382]	[INFO]	[o2m/filter.go:91]	get oracle to mysql all tables	{"schema": "marvin", "exporter tables list": ["MARVIN06", "MARVIN07"], "include table counts": 2, "exclude table counts": 0, "all table counts": 37, "cost": "109.824041ms"}
[2022-12-31 14:14:35.927]	[WARN]	[o2m/compare.go:106]	gorm slow-query	{"sql": "INSERT INTO `wait_sync_meta` (`db_type_s`,`db_type_t`,`schema_name_s`,`table_name_s`,`mode`,`full_global_scn`,`full_split_times`,`is_partition`,`comment`,`created_at`,`updated_at`) VALUES ('ORACLE','MYSQL','MARVIN','MARVIN06','CompareO2M',0,-1,'','','2022-12-31 14:14:35.661359 +0800 CST','2022-12-31 14:14:35.661429 +0800 CST')", "rows": 1, "elapsed": 0.315678333}
[2022-12-31 14:14:36.568]	[INFO]	[o2m/compare.go:283]	get oracle db character and version finished	{"schema": "marvin", "db version": "19.0.0.0.0", "db character": "AMERICAN_AMERICA.AL32UTF8", "table totals": 2, "table collation": true, "cost": "145.899208ms"}
[2022-12-31 14:14:41.142]	[FATAL]	[cmd/main.go:59]	server run failed	{"error": "oracle schema [marvin] table [MARVIN06] pk/uk/unique index isn't exist, it's not support, please skip"}
[2022-12-31 14:16:52.639]	[INFO]	[config/version.go:35]	Welcome to transferdb	{"Release Version": "None", "Git Commit Hash": "None", "Git Branch": "None", "UTC Build Time": "None", "Go Version": "go1.19.2", "config": "{\"app\":{\"insert-batch-size\":100,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":4,\"sql-threads\":32,\"apply-threads\":64,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":4,\"worker-queue\":128,\"worker-threads\":64},\"oracle\":{\"ora-arch\":\"noncdb\",\"username\":\"c##ggadmin\",\"password\":\"ggadmin\",\"host\":\"10.2.103.31\",\"port\":1521,\"service-name\":\"orclpdb1\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"nls-lang\":\"AMERICAN_AMERICA.AL32UTF8\",\"connect-params\":\"poolMinSessions=50\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=360s\\u0026poolSessionMaxLifetime=2h\\u0026poolSessionTimeout=2h\\u0026poolIncrement=30\\u0026timezone=Local\\u0026connect_timeout=15\",\"session-params\":[],\"schema-name\":\"marvin\",\"include-table\":[\"marvin07\"],\"exclude-table\":[]},\"mysql\":{\"db-type\":\"tidb\",\"username\":\"root\",\"password\":\"\",\"host\":\"10.2.103.30\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\\u0026parseTime=True\\u0026loc=Local\",\"meta-schema\":\"transferdb\",\"schema-name\":\"marvin\",\"table-option\":\"SHARD_ROW_ID_BITS = 4 PRE_SPLIT_REGIONS = 4\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null},\"config-file\":\"./example/config.toml\",\"PrintVersion\":false,\"mode\":\"compare\"}"}
[2022-12-31 14:16:54.583]	[INFO]	[o2m/compare.go:55]	diff table oracle to mysql start	{"schema": "marvin"}
[2022-12-31 14:16:54.750]	[INFO]	[o2m/filter.go:91]	get oracle to mysql all tables	{"schema": "marvin", "exporter tables list": ["MARVIN07"], "include table counts": 1, "exclude table counts": 0, "all table counts": 37, "cost": "111.757709ms"}
[2022-12-31 14:16:55.317]	[INFO]	[o2m/compare.go:283]	get oracle db character and version finished	{"schema": "marvin", "db version": "19.0.0.0.0", "db character": "AMERICAN_AMERICA.AL32UTF8", "table totals": 1, "table collation": true, "cost": "146.573958ms"}
[2022-12-31 14:16:56.952]	[FATAL]	[cmd/main.go:59]	server run failed	{"error": "oracle schema [marvin] table [MARVIN06] pk/uk/unique index isn't exist, it's not support, please skip"}
[2022-12-31 14:17:43.193]	[INFO]	[config/version.go:35]	Welcome to transferdb	{"Release Version": "None", "Git Commit Hash": "None", "Git Branch": "None", "UTC Build Time": "None", "Go Version": "go1.19.2", "config": "{\"app\":{\"insert-batch-size\":100,\"slowlog-threshold\":300,\"threads\":256,\"pprof-port\":\":9696\"},\"full\":{\"chunk-size\":100000,\"task-threads\":128,\"table-threads\":4,\"sql-threads\":32,\"apply-threads\":64,\"enable-checkpoint\":true},\"csv\":{\"header\":true,\"separator\":\"|#|\",\"terminator\":\"|+|\\r\\n\",\"delimiter\":\"\\\"\",\"escape-backslash\":true,\"charset\":\"utf8\",\"rows\":100000,\"output-dir\":\"/data1\",\"task-threads\":128,\"table-threads\":8,\"sql-threads\":64,\"enable-checkpoint\":true},\"all\":{\"logminer-query-timeout\":300,\"filter-threads\":16,\"apply-threads\":4,\"worker-queue\":128,\"worker-threads\":64},\"oracle\":{\"ora-arch\":\"noncdb\",\"username\":\"c##ggadmin\",\"password\":\"ggadmin\",\"host\":\"10.2.103.31\",\"port\":1521,\"service-name\":\"orclpdb1\",\"lib-dir\":\"/Users/marvin/storehouse/oracle/instantclient_19_8\",\"nls-lang\":\"AMERICAN_AMERICA.AL32UTF8\",\"connect-params\":\"poolMinSessions=50\\u0026poolMaxSessions=1000\\u0026poolWaitTimeout=360s\\u0026poolSessionMaxLifetime=2h\\u0026poolSessionTimeout=2h\\u0026poolIncrement=30\\u0026timezone=Local\\u0026connect_timeout=15\",\"session-params\":[],\"schema-name\":\"marvin\",\"include-table\":[\"marvin07\"],\"exclude-table\":[]},\"mysql\":{\"db-type\":\"tidb\",\"username\":\"root\",\"password\":\"\",\"host\":\"10.2.103.30\",\"port\":4000,\"connect-params\":\"charset=utf8mb4\\u0026multiStatements=true\\u0026parseTime=True\\u0026loc=Local\",\"meta-schema\":\"transferdb\",\"schema-name\":\"marvin\",\"table-option\":\"SHARD_ROW_ID_BITS = 4 PRE_SPLIT_REGIONS = 4\",\"overwrite\":false},\"log\":{\"log-level\":\"info\",\"log-file\":\"./transferdb.log\",\"max-size\":128,\"max-days\":7,\"max-backups\":30},\"diff\":{\"chunk-size\":50000,\"diff-threads\":128,\"only-check-rows\":false,\"enable-checkpoint\":true,\"ignore-struct-check\":true,\"fix-sql-file\":\"fix.sql\",\"table-config\":null},\"config-file\":\"./example/config.toml\",\"PrintVersion\":false,\"mode\":\"compare\"}"}
[2022-12-31 14:17:44.852]	[INFO]	[o2m/compare.go:55]	diff table oracle to mysql start	{"schema": "marvin"}
[2022-12-31 14:17:45.011]	[INFO]	[o2m/filter.go:91]	get oracle to mysql all tables	{"schema": "marvin", "exporter tables list": ["MARVIN07"], "include table counts": 1, "exclude table counts": 0, "all table counts": 37, "cost": "110.741958ms"}
[2022-12-31 14:17:45.537]	[WARN]	[o2m/compare.go:106]	gorm slow-query	{"sql": "INSERT INTO `wait_sync_meta` (`db_type_s`,`db_type_t`,`schema_name_s`,`table_name_s`,`mode`,`full_global_scn`,`full_split_times`,`is_partition`,`comment`,`created_at`,`updated_at`) VALUES ('ORACLE','MYSQL','MARVIN','MARVIN07','CompareO2M',0,-1,'','','2022-12-31 14:17:45.274674 +0800 CST','2022-12-31 14:17:45.274707 +0800 CST')", "rows": 1, "elapsed": 0.307120583}
[2022-12-31 14:17:45.893]	[INFO]	[o2m/compare.go:283]	get oracle db character and version finished	{"schema": "marvin", "db version": "19.0.0.0.0", "db character": "AMERICAN_AMERICA.AL32UTF8", "table totals": 1, "table collation": true, "cost": "141.519709ms"}
[2022-12-31 14:17:49.098]	[WARN]	[o2m/chunk.go:199]	get oracle table rows	{"schema": "MARVIN", "table": "MARVIN07", "where": "1 = 1", "statistics rows": 0}
[2022-12-31 14:17:49.759]	[INFO]	[o2m/report.go:231]	oracle table chunk diff isn't equal	{"oracle schema": "MARVIN", "mysql schema": "MARVIN", "oracle table": "MARVIN07", "mysql table": "MARVIN07", "oracle crc32 values": 4266587053, "mysql crc32 values": 0, "oracle sql": "SELECT DECODE(SUBSTR(ID,1,1),'.','0' || ID,ID) AS ID,N1 FROM MARVIN.MARVIN07 WHERE 1 = 1", "mysql sql": "SELECT CAST(0 + CAST(ID AS CHAR) AS CHAR) AS ID,N1 FROM MARVIN.MARVIN07 WHERE 1 = 1"}
[2022-12-31 14:17:50.103]	[INFO]	[o2m/compare.go:468]	delete mysql [data_diff_meta] meta	{"table": "{\"data_compare_meta\":{\"id\":1,\"db_type_s\":\"ORACLE\",\"db_type_t\":\"MYSQL\",\"schema_name_s\":\"MARVIN\",\"table_name_s\":\"MARVIN07\",\"column_info_s\":\"DECODE(SUBSTR(ID,1,1),'.','0' || ID,ID) AS ID,N1\",\"schema_name_t\":\"MARVIN\",\"table_name_t\":\"MARVIN07\",\"column_info_t\":\"CAST(0 + CAST(ID AS CHAR) AS CHAR) AS ID,N1\",\"where_column\":\"\",\"where_range\":\"1 = 1\",\"is_partition\":\"NO\",\"comment\":\"\",\"createdAt\":\"2022-12-31T14:17:49.145+08:00\",\"updatedAt\":\"2022-12-31T14:17:49.145+08:00\"},\"only_check_rows\":false}", "status": "success"}
[2022-12-31 14:17:50.399]	[INFO]	[o2m/compare.go:517]	diff single table oracle to mysql finished	{"schema": "marvin", "table": "MARVIN07", "cost": "838.600375ms"}
[2022-12-31 14:17:50.453]	[INFO]	[o2m/compare.go:382]	diff	{"fix sql file output": "/Users/marvin/gostore/transferdb/fix.sql"}
[2022-12-31 14:17:50.453]	[INFO]	[o2m/compare.go:384]	diff table oracle to mysql finished	{"table totals": 1, "table success": 1, "table failed": 0, "cost": "5.60125075s"}
